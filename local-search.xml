<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Android 逆向学习笔记</title>
    <link href="/31.html"/>
    <url>/31.html</url>
    
    <content type="html"><![CDATA[<p>“安卓逆向”不是一个新名词，它伴随着安卓开发而生，但是一直以来，仅限于技术圈内流行，对于非技术圈人士，往往把“APP破解”和“安卓逆向”划等号。 这是写给非技术圈人士看的，在于普及安卓逆向的概念及其应用场景。 简单地来说，安卓逆向是对已经打包好的APP进行反编译、源码分析了解APP实现逻辑的一门技术。</p><span id="more"></span><h2 id="APK结构"><a href="#APK结构" class="headerlink" title="APK结构"></a>APK结构</h2><blockquote><p>apk全称Android Package，它相当于一个压缩文件，只要在电脑上将apk后缀改为rar即可解压</p></blockquote><table><thead><tr><th>名称</th><th>注释</th></tr></thead><tbody><tr><td>assets目录</td><td>存放APK的静态资源文件，比如视频，音频，图片等</td></tr><tr><td>lib目录</td><td>armeabi-v7a基本通用所有android设备，arm64-v8a只适用于64位的android设备，X86常见用于android模拟器，其目录下的.so文件是c或c++编译的动态链接库文件</td></tr><tr><td>META-INF目录</td><td>保存应用的签名信息，签名信息可以验证APK文件的完整性，相当于APK的身份证(验证文件是否又被修改)</td></tr><tr><td>res目录</td><td>res目录存放资源文件，包括图片，字符串等等，APK的脸蛋由他的layout文件设计</td></tr><tr><td>AndroidMainfest.xml文件</td><td>APK的应用清单信息，它描述了应用的名字，版本，权限，引用的库文件等等信息</td></tr><tr><td>classes.dex文件</td><td>classes.dex是iava源码编译后生成的iava字节码文件，APK运行的主要逻辑</td></tr><tr><td>resources.arsc文件</td><td>resources.arsc是编泽后的二进制资源文件，它是一个映射表，映着资源和id，通过R文件中的id就可以找到对应的资源</td></tr></tbody></table><h2 id="初识AndroidMainfest-xml"><a href="#初识AndroidMainfest-xml" class="headerlink" title="初识AndroidMainfest.xml"></a>初识AndroidMainfest.xml</h2><blockquote><p>AndroidManifest.xml文件是整个应用程序的信息描述文件，定义了应用程序中包合的Activity,Service,Content provider和BroadcastReceiver组件信息。每个应用程序在根目录下必须包合一个AndroidManifest.xml文件，且文件名不能修改，它描述了package中暴露的组件，他们各自的实现类，各种能被处理的数据和启动位置</p></blockquote><table><thead><tr><th>名称</th><th>注释</th></tr></thead><tbody><tr><td>versionCode</td><td>版本号，主要用来更新，例如:12</td></tr><tr><td>versionName</td><td>版本名，给用户看的，例如:1.2</td></tr><tr><td>package</td><td>包名，例如: com.zj.52pjdemo</td></tr><tr><td>uses-permission android:name&#x3D;””</td><td>应用权限，例如:android.permission.INTERNET代表网络权限</td></tr><tr><td>android:label&#x3D;”@string&#x2F;app_name”</td><td>应用名称</td></tr><tr><td>android:icon&#x3D;”@mipmap&#x2F;ic launcher”</td><td>应用图标路径</td></tr><tr><td>android:debuggable&#x3D;”true”</td><td>应用是否开启debug权限</td></tr></tbody></table><h2 id="什么是JVM、Dalvik、ART"><a href="#什么是JVM、Dalvik、ART" class="headerlink" title="什么是JVM、Dalvik、ART"></a>什么是JVM、Dalvik、ART</h2><blockquote><p>JVM是JAVA虚拟机，运行JAVA字节码程序。<br>Dalvik是Google专门为Android设计的一个虚拟机，Dalvik有专属的文件执行格式dex(Dalvik executable)。<br>Art(Android Runtime)相当于Dalvik的升级版，本质与Dalvik无异。</p></blockquote><h2 id="JAVA虚拟机"><a href="#JAVA虚拟机" class="headerlink" title="JAVA虚拟机"></a>JAVA虚拟机</h2><blockquote><p>Java虚拟机 &#x3D;&gt;Java字节码<br>基于栈架构<br>persist.sys.dalvik.vm.lib</p></blockquote><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>JNI_GetDefaultJavaVMInitArgs</td><td>获取虚拟机的默认初始化参数</td></tr><tr><td>JNI_CreateJavaVM</td><td>在进程中创建虚拟机实例</td></tr><tr><td>JNI_GetCreatedJavaVMs</td><td>获取进程中创建的虚拟机实例</td></tr></tbody></table><h2 id="dalvik虚拟机-jit机制"><a href="#dalvik虚拟机-jit机制" class="headerlink" title="dalvik虚拟机(jit机制)"></a>dalvik虚拟机(jit机制)</h2><blockquote><p>Android 5.0以下，dalvik字节码，dalvik可执行文件体积更小，基于寄存器架构<br>Dalvik虚拟机&#x3D;&gt;dex字节码<br>libdvm.so</p></blockquote><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>JNI_GetDefaultJavaVMInitArgs</td><td>获取虚拟机的默认初始化参数</td></tr><tr><td>JNI_CreateJavaVM</td><td>在进程中创建虚拟机实例</td></tr><tr><td>JNI_GetCreatedJavaVMs</td><td>获取进程中创建的虚拟机实例</td></tr><tr><td>&#x2F;system&#x2F;bin&#x2F;dexopt</td><td>jit机制</td></tr></tbody></table><h2 id="art虚拟机-aot机制"><a href="#art虚拟机-aot机制" class="headerlink" title="art虚拟机(aot机制)"></a>art虚拟机(aot机制)</h2><blockquote><p>Android 5.0版本及以上<br>ART虚拟机&#x3D;&gt;本地机器码<br>libart.so</p></blockquote><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>JNI_GetDefaultJavaVMInitArgs</td><td>获取虚拟机的默认初始化参数</td></tr><tr><td>JNI_CreateJavaVM</td><td>在进程中创建虚拟机实例</td></tr><tr><td>JNI_GetCreatedJavaVMs</td><td>获取进程中创建的虚拟机实例</td></tr><tr><td>&#x2F;system&#x2F;bin&#x2F;dex2oat</td><td>aot机制</td></tr><tr><td>&#x2F;system&#x2F;app；&#x2F;data&#x2F;app；&#x2F;system&#x2F;framework</td><td>系统启动</td></tr></tbody></table><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><blockquote><p>.dex &#x3D;&gt;dexopt&#x3D;&gt;.odexdalvik加载执行的odex文件<br>.dex&#x3D;&gt;dex2oat&#x3D;&gt;.oat    art加载执行的是oat文件</p></blockquote><h2 id="APK安装流程"><a href="#APK安装流程" class="headerlink" title="APK安装流程"></a>APK安装流程</h2><blockquote><p>应用安装的流程及路径<br>应用安装涉及到如下几个目录</p></blockquote><table><thead><tr><th>目录</th><th>描述</th></tr></thead><tbody><tr><td>system&#x2F;app</td><td>系统自带的应用程序，获得adb root权限才能删除</td></tr><tr><td>data&#x2F;app</td><td>用户程序安装的目录。安装时把apk文件复制到此目录</td></tr><tr><td>data&#x2F;data</td><td>存放应用程序的数据</td></tr><tr><td>data&#x2F;dalvik-cache</td><td>将apk中的dex文件安装到dalvik-cache目录下(dex文件是dalvik虚拟机的可执行文件，其大小约为原始apk文件大小的四分之一)</td></tr></tbody></table><h3 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h3><blockquote><p>复制APK安装包到data&#x2F;app目录下，解压并扫描安装包，把dex文件(Dalvik字节码)保存到dalvik-cache目录，并在data&#x2F;data目录下创建对应的应用数据目录。</p></blockquote><h3 id="卸载过程"><a href="#卸载过程" class="headerlink" title="卸载过程"></a>卸载过程</h3><blockquote><p>删除安装过程中在上述三个目录下创建的文件及目录</p></blockquote><h2 id="smali及其语法"><a href="#smali及其语法" class="headerlink" title="smali及其语法"></a>smali及其语法</h2><blockquote><p>smali是Dalvik的寄存器语言，smali代码是dex反编译而来的</p></blockquote><h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><table><thead><tr><th>名称</th><th>注释</th></tr></thead><tbody><tr><td>.class</td><td>类名</td></tr><tr><td>.super</td><td>父类名，继承的上级类名名称</td></tr><tr><td>.source</td><td>源名</td></tr><tr><td>.field</td><td>变量</td></tr><tr><td>.register</td><td>寄存器</td></tr><tr><td>.method</td><td>方法名</td></tr><tr><td>.end method</td><td>方法名的结束</td></tr><tr><td>public</td><td>公有</td></tr><tr><td>protected</td><td>半公开，只有同一家人才能用</td></tr><tr><td>private</td><td>私有，只能自己使用</td></tr><tr><td>.parameter</td><td>方法参数</td></tr><tr><td>.prologue</td><td>方法开始</td></tr><tr><td>.line xxx</td><td>位于第xxx行</td></tr></tbody></table><h3 id="数据类型对应"><a href="#数据类型对应" class="headerlink" title="数据类型对应"></a>数据类型对应</h3><table><thead><tr><th>smali类型</th><th>java类型</th><th>注释</th></tr></thead><tbody><tr><td>V</td><td>void</td><td>无返回值</td></tr><tr><td>Z</td><td>boolean</td><td>布尔值类型，返回0或1</td></tr><tr><td>B</td><td>byte</td><td>字节类型，返回字节</td></tr><tr><td>S</td><td>short</td><td>短整数类型，返回数字</td></tr><tr><td>C</td><td>char</td><td>字符类型，返回字符</td></tr><tr><td>I</td><td>int</td><td>整数类型，返回数字</td></tr><tr><td>J</td><td>long(64位需要2个寄存器存储)</td><td>长整数类型，返回数字</td></tr><tr><td>F</td><td>float</td><td>单浮点类型，返回数字</td></tr><tr><td>D</td><td>double(64位需要2个寄存器存储)</td><td>双浮点类型，返回数字</td></tr><tr><td>string</td><td>String</td><td>文本类型，返回字符串</td></tr><tr><td>Lxxx&#x2F;xxx&#x2F;xxx</td><td>object</td><td>对象类型，返回对象</td></tr></tbody></table><h3 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h3><table><thead><tr><th>关键字</th><th>注释</th></tr></thead><tbody><tr><td>const</td><td>重写整数属性，真假属性内容，只能是数字类型</td></tr><tr><td>const-string</td><td>重写字符串内容</td></tr><tr><td>const-wide</td><td>重写长整数类型，多用于修改到期时间</td></tr><tr><td>return</td><td>返回指令</td></tr><tr><td>if-eq</td><td>全称equal(a&#x3D;b)，比较寄存器ab内容，相同则跳</td></tr><tr><td>if-ne</td><td>全称not equal(a!&#x3D;b)，ab内容不相同则跳</td></tr><tr><td>if-egz</td><td>全称equalzero(a&#x3D;0)，z即是0的标记，a等于0则跳</td></tr><tr><td>if-nez</td><td>全称notequalzero(a!&#x3D;0)，a不等于0则跳</td></tr><tr><td>if-ge</td><td>全称garden equal(a&gt;&#x3D;b)，a大于或等于则跳</td></tr><tr><td>if-le</td><td>全称little equal(a&lt;&#x3D;b)，a小于或等于则跳</td></tr><tr><td>goto</td><td>强制跳到指定位置</td></tr><tr><td>switch</td><td>分支跳转，一般会有多个分支线，并根据指令跳转到适当位置</td></tr><tr><td>iget</td><td>获取寄存器数据</td></tr></tbody></table><blockquote><p>其余指令可用语法工具查询<br>定位方法:搜索单窗关键字、抓取按钮id</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//一个私有、静态、不可变的方法方法名</span><br>.method <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> onCreate$lambda-<span class="hljs-number">2</span>(Lkotlin/jvm/internal/Ref$IntRef;Lcom/zj/wuaipojie/ui/ChallengeSecond;Landroid/widget/ImageView;Landroid/widget/ImageView;Landroid/widget/ImageView;Landroid/view/View;)Z <span class="hljs-comment">//(这里面是方法的参数)这里是方法返回值类型，表示布尔值类型，返回假或真</span><br>    .registers <span class="hljs-number">7</span> <span class="hljs-comment">//寄存器数量</span><br><br>    .line <span class="hljs-number">33</span> <span class="hljs-comment">//代码所在的行数</span><br>    iget p0, p0, Lkotlin/jvm/internal/Ref$IntRef;-&gt;element:I <span class="hljs-comment">//读p0(第一个参数，参考存器知识)中element的值赋值给p0</span><br><br>    const/<span class="hljs-number">4</span> p5, <span class="hljs-number">0x1</span> <span class="hljs-comment">//p5赋值1</span><br><br>    const/<span class="hljs-number">16</span> v0, <span class="hljs-number">0xa</span> <span class="hljs-comment">//v0赋值10，在16进制里a表示10</span><br><br>    <span class="hljs-keyword">if</span>-ge p0, v0, :cond_15 <span class="hljs-comment">//判断p0的值是否大于或等于v0的值(即p0的值是否大于或等于10)，如果大于或等于则跳转到:cond_15</span><br><br>    .line <span class="hljs-number">34</span> <span class="hljs-comment">//以下是常见的Toast弹窗代码</span><br>    move-object p0, p1<br><br>    check-cast p0, Landroid/content/Context; <span class="hljs-comment">//检查Context对象引用</span><br><br>    const-string v0, <span class="hljs-string">&quot;\u8bf7\u5148\u83b7\u53d610\u4e2a\u786c\u5e01\u54e6&quot;</span> <span class="hljs-comment">//弹窗文本信息，把&quot;&quot;里的字符串数据赋值给p0</span><br><br>    check-cast v0, Ljava/lang/CharSequence; <span class="hljs-comment">//检查charsequence对象引用</span><br><br>    invoke-<span class="hljs-keyword">static</span> &#123;p0, v0, p5&#125;, Landroid/widget/Toast;-&gt;makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;<br><span class="hljs-comment">//将单窗文本、显示时间等信息传给p1</span><br><br>move-result-object p0 <span class="hljs-comment">//结果传递给po</span><br><br>invoke-virtual &#123;p0&#125;, Landroid/widget/Toast;-&gt;show()V <span class="hljs-comment">//Toast;-&gt;show()显示弹窗</span><br><br>goto :goto_50 <span class="hljs-comment">//跳转到:goto_50</span><br><br>:cond_15 <span class="hljs-comment">//跳转的一个地址</span><br><br>const p0, <span class="hljs-number">0x7f0d0018</span> <span class="hljs-comment">//在arsc中的id索引，这个值可以进行查询</span><br></code></pre></td></tr></table></figure><h2 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a>寄存器</h2><blockquote><p>在smali里的所有操作都必须经过寄存器来进行：<br>本地寄存器用v开头数字结尾的符号来表示，如v0、v1、v2。<br>参数寄存器则使用p开头数字结尾的符号来表示，如p0、p1、p2。<br>特别注意的是，p0不一定是函数中的第一个参数，在非static函数中，p0代指”this”，p1表示函数的第一个参数，p2代表函数中的第二个参数。而在static函数中p0才对应第一个参数(因为Java的static方法中没有this方法)</p></blockquote><h2 id="安卓四大组件"><a href="#安卓四大组件" class="headerlink" title="安卓四大组件"></a>安卓四大组件</h2><table><thead><tr><th>组件</th><th>描述</th></tr></thead><tbody><tr><td>Activity(活动)</td><td>在应用中的一个Activity可以用来表示一个界面，意思可以理解为“活动”，即一个活动开始，代表 Activity组件启动，活动结束，代表一Activity的生命周期结束。一个Android应用必须通过Actvity来运行和启动，Activity的生命周期交给系统统一管理</td></tr><tr><td>Service(服务)</td><td>Service它可以在后台执行长时间运行操作而没有用户界面的应用组件，不依赖任何用户界面，例如后台播放音乐，后台下载文件等。</td></tr><tr><td>Broadcast Receiver(广播接收器)</td><td>一个用于接收广播信息，并做出对应处理的组件。比如我们常见的系统广播: 通知时区改变、电量低、用户改变了语言选项等。</td></tr><tr><td>Content Provider(内容提供者)</td><td>作为应用程序之间唯一的共享数据的途径，Content Provider主要的功能就是存储并检索数据以及向其他应用程序提供访问数据的接口Android内置的许多数据都是使用Content Provider形式，供开发者调用的(如视频，音频，图片，通讯录等)</td></tr></tbody></table><blockquote><p>启动广告流程:启动Activity-&gt;广告Activity-&gt;主页Activity<br>修改方法：1修改加载时间；2.Acitivity切换定位，修改Intent的Activity类名</p></blockquote><h2 id="Activity生命周期"><a href="#Activity生命周期" class="headerlink" title="Activity生命周期"></a>Activity生命周期</h2><table><thead><tr><th>函数名称</th><th>描述</th></tr></thead><tbody><tr><td>onCreat()</td><td>一个Activity启动后第一个被调用的函数，常用来在此方法中进行Activity的一些初始化操作。例如创建View，绑定数据，注册监听，加载参数等</td></tr><tr><td>onStart()</td><td>当Activity显示在屏幕上时，此方法被调用但此时还无法进行与用户的交互操作。</td></tr><tr><td>onResume()</td><td>这个方法在onStart()之后调用，也就是在Activity准备好与用户进行交互的时候调用，此时的Activity一定位于Activity栈顶，处于运行状态</td></tr><tr><td>onPause()</td><td>这个方法是在系统准备去启动或者恢复另外一个Activity的时候调用，通常在这个方法中执行一些释放资源的方法，以及保存一些关键数据</td></tr><tr><td>onStop()</td><td>文个方法是在Activitv完全不可见的时候调用</td></tr><tr><td>onDestroy()</td><td>这个方法在Activity销毁之前调用，之后Adivity的状态为销毁状态</td></tr><tr><td>onRestart()</td><td>当Activity从停止stop状态恢进入start状态时调用状态</td></tr></tbody></table><h2 id="双开及原理"><a href="#双开及原理" class="headerlink" title="双开及原理"></a>双开及原理</h2><table><thead><tr><th>名称</th><th>注释</th></tr></thead><tbody><tr><td>修改包名</td><td>让手机系统认为这是2个APP，这样的话就能生成2个数据存储路径，此时的多开就等于你打开了两个互不干扰的APP</td></tr><tr><td>修改Framework</td><td>对于有系统修改权限的厂商，可以修改Framework来实现双开的目的，例如: 小米自带多开</td></tr><tr><td>通过虚拟化技术实现</td><td>虚拟Framework层、虚拟文件系统、模拟Android对组件的管理、虚拟应用进程管理等一整套虚拟技术，将APK复制一份到虚拟空间中运行，例如:平行空间</td></tr><tr><td>以插件机制运行</td><td>利用反射替换，动态代理，hook了系统的大部分与system-server进程通讯的函数，以此作为”欺上瞒下”的目的，欺系统“以为”只有一个apk在运行，瞒过插件让其“认为”自己已经安装。例如: VirtualApp</td></tr></tbody></table><h2 id="常用CMD命令"><a href="#常用CMD命令" class="headerlink" title="常用CMD命令"></a>常用CMD命令</h2><blockquote><p>场景：当前所连接的安卓模拟器</p></blockquote><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>adb devices</td><td>当前与模拟器的连接状态</td></tr><tr><td>adb shell dumpsys activity top</td><td>当前活动界面的所有信息</td></tr></tbody></table><h2 id="快速定位关键代码"><a href="#快速定位关键代码" class="headerlink" title="快速定位关键代码"></a>快速定位关键代码</h2><h3 id="1、分析流程"><a href="#1、分析流程" class="headerlink" title="1、分析流程"></a>1、分析流程</h3><pre><code class="hljs">搜索特征字符串搜索关键 api通过方法名来判断方法的功能</code></pre><h3 id="2-快速定位关键代码"><a href="#2-快速定位关键代码" class="headerlink" title="2. 快速定位关键代码"></a>2. 快速定位关键代码</h3><pre><code class="hljs">反编译 APK 程序 AndroidManifest.xml=&gt;包名/系统版本/组件程序的主 activity(程序入口界面)        每个 Android 程序有且只有一个主 Activity        分析程序的执行流程需重点关注的 application        application 执行时间        授权验证</code></pre><h3 id="3-定位关键代码的技巧"><a href="#3-定位关键代码的技巧" class="headerlink" title="3.定位关键代码的技巧"></a>3.定位关键代码的技巧</h3><pre><code class="hljs">信息反馈法(资源 id/字符串)特征函数法(api 函数)顺序查看法(分析程序执行流程/病毒分析)代码注入法(动态调式/插入 log/查看 logcat/分析加解密)栈跟踪法(动态调式/函数调用流程)Method Profiling(方法剖析=&gt;动态调式/热点分析//函数调用流程)</code></pre><h2 id="关键点方法名"><a href="#关键点方法名" class="headerlink" title="关键点方法名"></a>关键点方法名</h2><pre><code class="hljs">和游戏方法名onResult，onchinabilling，resulton，Paycenter，Callback爱游戏方法名:paySuccess (成功) payFailed (失败) payCancel (成功)沃游戏方法名:OnPayResult，PyaResulton，Activity，result，callback4399游戏方法名:notifydelivergoods支付宝和银行卡方法名:handle，message移动MM方法名:onBillingFinish，Billing，CallBack360支付: onfinished onActiv ityresult支付宝搜索字符串: 9000咪咕游戏搜索常量:onresult    如果没有失败提示：类：PayCallback，进入再搜索 onresult发送短信权:android.permission.SEND SMS锁定支付模式关键字符串:CHINA TELECOM</code></pre><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PHPCMS V9会员系统登录成功后取消弹出框直接进入会员中心</title>
    <link href="/30.html"/>
    <url>/30.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><p>首先请打开</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">phpcms\modules\member\index.php<br></code></pre></td></tr></table></figure><p>搜索</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-title function_ invoke__">showmessage</span>(<span class="hljs-variable">$LANG</span>[<span class="hljs-string">&#x27;login_success&#x27;</span>], <span class="hljs-variable">$forward</span>); <span class="hljs-comment">//大概在第718行；</span><br></code></pre></td></tr></table></figure><p>1.如果你不想提示，想直直接转向，则把这一行替换成： header(“location: $forward”);</p><p>2.如果你想直接转到首页，则把这一行替换成： header(“location: PHPCMS_PATH”);</p><p>3.如果你想直接转到会员管理中心，则把这一行替换成： header(“location: $MODULE[member][linkurl]”);</p><p>同理退出会员登录也可以用同样的方法实现退出后直接跳转到你想要到地方。</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Phpcms V9 网站迁移更换域名方法和phpsso后台登陆验证码错误提示</title>
    <link href="/29.html"/>
    <url>/29.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><p>网站在发展的过程中，很可能多次的修改域名，那么在PHPCMS V9中我们要怎么进行设置呢？</p><p>请进行以下步骤的修改：</p><p>修改&#x2F;caches&#x2F;configs&#x2F;system.php里面所有和域名有关的，把以前的老域名修改为新域名。 </p><p>进入后台设置–&gt;站点管理，对相应的站点的域名修改为新域名。 </p><p>点击后台右上角的”更新缓存”按钮更新系统缓存。</p><p>进入内容–&gt;附件管理–&gt;附件地址替换。把附件地址批量的替换为新的地址。 </p><p>内容–&gt;批量更新URL 。把所有的文章的地址都更新一下。 </p><p>内容–&gt;管理栏目–&gt;更新栏目缓存。将栏目的链接地址改为新地址。</p><p>如果你的网站是静态页面，则需要把全站都生成一次。如果是动态页面，就不需要。</p><p>打开网站，所有链接都更改为新地址了。 </p><p>phpsso后台登陆验证码问题也和这个system.php有关，不过这个是phpsso_server&#x2F;caches&#x2F;configs里面的文件这个也要该。</p><p>最后更新下缓存。。</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PHPCMS V9“密码重试次数太多，请过-xxx分钟后重新登录！”的解决办法</title>
    <link href="/28.html"/>
    <url>/28.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><p>解决的办法：</p><p>找到文件 \phpcms\modules\admin\index.php</p><p>将如下代码注释掉：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">if</span>(<span class="hljs-symbol">$rtime</span>[<span class="hljs-string">&#x27;times&#x27;</span>] &gt;= <span class="hljs-symbol">$ma</span>xloginfailedtimes) &#123;<br>  <span class="hljs-symbol">$mi</span>nute = <span class="hljs-number">60</span>-<span class="hljs-built_in">floor</span>((SYS_TIME-<span class="hljs-symbol">$rtime</span>[<span class="hljs-string">&#x27;logintime&#x27;</span>])/<span class="hljs-number">60</span>);<br>  showmessage(L(<span class="hljs-string">&#x27;wait_1_hour&#x27;</span>,<span class="hljs-built_in">array</span>(<span class="hljs-string">&#x27;minute&#x27;</span>=&gt;<span class="hljs-symbol">$mi</span>nute)));<br>&#125;<br></code></pre></td></tr></table></figure><p>注意哦，一共是4行。</p><p>然后再次登录后台，更新全站缓存就好了。</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9 html生成路径修改教程</title>
    <link href="/27.html"/>
    <url>/27.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><p>打开caches\configs\system.php,修改html_root的值<br>默认在51行:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-string">&#x27;html_root&#x27;</span> =&gt; <span class="hljs-string">&#x27;/html&#x27;</span>,<span class="hljs-comment">//生成静态文件路径</span><br></code></pre></td></tr></table></figure><p>修改为:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-string">&#x27;html_root&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-comment">//生成静态文件路径</span><br></code></pre></td></tr></table></figure><p>将html_root这项值添加到后台的基本设置中,让管理员可以随时修改html_root的这个值<br>1.打开phpcms\modules\admin\functions\global.func.php<br>找到:</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">&#x27;img_path&#x27;,&#x27;attachment_stat&#x27;,<br></code></pre></td></tr></table></figure><p>在后面添加:</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">&#x27;html_root&#x27;,<br></code></pre></td></tr></table></figure><p>修改好后保存.</p><p>2.打开phpcms\modules\admin\templates\setting.tpl.php<br>找到:</p><figure class="highlight php-template"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php-template"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;120&quot;</span>&gt;</span></span><span class="language-php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">L</span>(<span class="hljs-string">&#x27;setting_upload_url&#x27;</span>)<span class="hljs-meta">?&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;y-bg&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;setconfig[upload_url]&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;upload_url&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;50&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> <span class="hljs-variable">$upload_url</span><span class="hljs-meta">?&gt;</span></span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>在其下面另起一行,加入以下代码:</p><figure class="highlight php-template"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php-template"><span class="language-xml"> <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;120&quot;</span>&gt;</span>生成静态文件路径<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;y-bg&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;setconfig[html_root]&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;html_root&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;50&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> <span class="hljs-variable">$html_root</span><span class="hljs-meta">?&gt;</span></span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span>　注:默认在html目录下(即&quot;/html&quot;),要生成在网站根目录下留空即可<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>修改好保存即可.</p><p>现在在后台的<strong>基本设置</strong>里面,已经可以修改这个值了</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>解决PHPMyAdmin上传文件大小限制的设置方法</title>
    <link href="/26.html"/>
    <url>/26.html</url>
    
    <content type="html"><![CDATA[<p>phpMyAdmin 是众多 MySQL图形化管理工具中使用最为广泛的一种，是一款使用PHP 开发的基于B&#x2F;S模式的 MySQL 客户端软件，该工具是基于 Web 跨平台的管理程序，并且支持简体中文，用户可以在官网上下载最新版本的。</p><span id="more"></span><p>php.ini配置文件中配置upload_max_filesize选项，</p><p>设定文件上传的大小。</p><p>默认upload_max_filesize &#x3D; 2M，</p><p>即文件上传的大小为2M，</p><p>如果你想上传超过8M的文件，</p><p>比如20M，</p><p>你必须设定upload_max_filesize &#x3D; 20M</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpMyAdmin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PHP CodeIgniter框架URL传递UTF-8中文编码问题解决方案及分页Page代码示例</title>
    <link href="/25.html"/>
    <url>/25.html</url>
    
    <content type="html"><![CDATA[<p>CodeIgniter 是一个小巧而功能强大的 PHP 框架，支持 MVC 架构和安全性。</p><span id="more"></span><h2 id="中文编码问题"><a href="#中文编码问题" class="headerlink" title="中文编码问题"></a>中文编码问题</h2><p>报错信息：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">The URI you <span class="hljs-keyword">submitted </span>has <span class="hljs-keyword">disallowed </span>characters.<br></code></pre></td></tr></table></figure><p>修改步骤：</p><p>1、.&#x2F;application&#x2F;config&#x2F;config.php找到$config[‘permitted_uri_chars’] </p><p>修改为</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-symbol">$co</span>nfig[<span class="hljs-string">&#x27;permitted_uri_chars&#x27;</span>] =<span class="hljs-string">&#x27;a-z 0-9~%.:_\u4e00-\u9fa5&#x27;</span>;<br></code></pre></td></tr></table></figure><p>2、.&#x2F;system&#x2F;core&#x2F;URI.php找到 </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-keyword">if</span> ( ! <span class="hljs-built_in">preg_match</span>(<span class="hljs-string">&quot;|^[&quot;</span><span class="hljs-selector-class">.preg_quote</span>(<span class="hljs-variable">$this</span>-&gt;config-&gt;<span class="hljs-built_in">item</span>(<span class="hljs-string">&#x27;permitted_uri_chars&#x27;</span>)).<span class="hljs-string">&quot;]+$|i&quot;</span>, <span class="hljs-variable">$str</span>))<br></code></pre></td></tr></table></figure><p>修改为</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-keyword">if</span> ( ! <span class="hljs-built_in">mb_ereg</span>(<span class="hljs-string">&quot;|^[&quot;</span><span class="hljs-selector-class">.preg_quote</span>(<span class="hljs-variable">$this</span>-&gt;config-&gt;<span class="hljs-built_in">item</span>(<span class="hljs-string">&#x27;permitted_uri_chars&#x27;</span>)).<span class="hljs-string">&quot;]+$|i&quot;</span>, <span class="hljs-variable">$str</span>))<br></code></pre></td></tr></table></figure><p>3、如果你的文件编码全是utf-8的在搜索结果页加上</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit">$keyword = iconv(<span class="hljs-string">&quot;gb2312&quot;</span>,<span class="hljs-string">&quot;utf-8&quot;</span>,$this-&gt;uri-&gt;segment(<span class="hljs-number">3</span>))<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>4、大功告成，现在的您的CI支持utf-8中文地址了</p><h2 id="分页Demo"><a href="#分页Demo" class="headerlink" title="分页Demo"></a>分页Demo</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">news_list</span>(<span class="hljs-params"> <span class="hljs-variable">$id</span> = <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-variable">$search</span> = <span class="hljs-string">&#x27;s&#x27;</span> </span>)</span>&#123;<br><br><span class="hljs-variable">$where</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-variable">$ids</span> = <span class="hljs-variable">$id</span>;<br><br><span class="hljs-keyword">if</span>( <span class="hljs-variable language_">$this</span>-&gt;input-&gt;<span class="hljs-title function_ invoke__">post</span>(<span class="hljs-string">&#x27;search&#x27;</span>) )&#123;<br><span class="hljs-variable">$search</span> = <span class="hljs-variable language_">$this</span>-&gt;input-&gt;<span class="hljs-title function_ invoke__">post</span>(<span class="hljs-string">&#x27;search&#x27;</span>);<br>&#125;<br><br><span class="hljs-variable">$p_page</span> = <span class="hljs-number">10</span>;<span class="hljs-comment">//每页显示 10 个项目</span><br><span class="hljs-variable">$current_page</span> = <span class="hljs-variable language_">$this</span>-&gt;uri-&gt;<span class="hljs-title function_ invoke__">segment</span>(<span class="hljs-number">5</span>, <span class="hljs-number">0</span>);  <span class="hljs-comment">//获取当前分页页码数</span><br><br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$current_page</span>&gt;<span class="hljs-number">1</span>)&#123;<span class="hljs-comment">//页码对应查询企业数量</span><br><span class="hljs-variable">$current_page</span> = ( <span class="hljs-variable">$current_page</span> - <span class="hljs-number">1</span> ) * <span class="hljs-variable">$p_page</span>;<br><span class="hljs-variable">$search</span> = <span class="hljs-title function_ invoke__">iconv</span>(<span class="hljs-string">&quot;gb2312&quot;</span>,<span class="hljs-string">&quot;utf-8&quot;</span>,<span class="hljs-variable">$search</span>);<br>&#125;<span class="hljs-keyword">elseif</span>(<span class="hljs-variable">$current_page</span>==<span class="hljs-number">1</span>)&#123;<br><span class="hljs-variable">$current_page</span> = <span class="hljs-variable">$current_page</span> * <span class="hljs-variable">$p_page</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-variable">$current_page</span> = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">if</span>( <span class="hljs-title function_ invoke__">substr_count</span>( <span class="hljs-variable">$id</span>,<span class="hljs-string">&#x27;_&#x27;</span> ) )&#123;<br><span class="hljs-variable">$arr</span> = <span class="hljs-title function_ invoke__">explode</span>( <span class="hljs-string">&quot;_&quot;</span>,<span class="hljs-variable">$id</span> );<br><span class="hljs-variable">$id</span> = <span class="hljs-variable">$arr</span>[<span class="hljs-number">1</span>];<br><span class="hljs-variable">$modid</span> = <span class="hljs-variable">$arr</span>[<span class="hljs-number">0</span>];<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-variable">$modid</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>&#125;<br><br><span class="hljs-keyword">if</span>( <span class="hljs-variable">$search</span> <span class="hljs-keyword">and</span> <span class="hljs-variable">$search</span> !=<span class="hljs-string">&#x27;s&#x27;</span> )&#123;<br><br><span class="hljs-variable">$page</span> = <span class="hljs-string">&quot;admin/news_list/<span class="hljs-subst">$ids</span>/<span class="hljs-subst">$search</span>&quot;</span>;<span class="hljs-comment">//分页url</span><br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-variable">$page</span> = <span class="hljs-string">&quot;admin/news_list/<span class="hljs-subst">$ids</span>/s&quot;</span>;<span class="hljs-comment">//分页url</span><br>&#125;<br><br><span class="hljs-keyword">if</span>( <span class="hljs-variable">$search</span> <span class="hljs-keyword">and</span> <span class="hljs-variable">$search</span> !=<span class="hljs-string">&#x27;s&#x27;</span> )&#123;<br><br><span class="hljs-variable">$search1</span> = <span class="hljs-title function_ invoke__">urldecode</span>( <span class="hljs-variable">$search</span> );<span class="hljs-comment">//中文解码</span><br><span class="hljs-variable">$where</span> = <span class="hljs-string">&quot; where title like &#x27;%<span class="hljs-subst">$search1</span>%&#x27;  &quot;</span>;<br>&#125;<br><br><span class="hljs-variable">$limit</span> = <span class="hljs-string">&quot; limit <span class="hljs-subst">$current_page</span>,<span class="hljs-subst">$p_page</span> &quot;</span>;<span class="hljs-comment">//分页sql</span><br><br><span class="hljs-variable">$news_list</span> = <span class="hljs-variable language_">$this</span>-&gt;admin-&gt;<span class="hljs-title function_ invoke__">news_list</span>( <span class="hljs-variable">$id</span>,<span class="hljs-variable">$modid</span>,<span class="hljs-variable">$where</span>,<span class="hljs-variable">$limit</span> );<span class="hljs-comment">//列表</span><br><span class="hljs-variable">$news_res</span> = <span class="hljs-variable language_">$this</span>-&gt;admin-&gt;<span class="hljs-title function_ invoke__">news_list</span>( <span class="hljs-variable">$id</span>,<span class="hljs-variable">$modid</span>,<span class="hljs-variable">$where</span> );<span class="hljs-comment">//总数</span><br><span class="hljs-variable">$news_page</span> = <span class="hljs-variable language_">$this</span>-&gt;admin-&gt;<span class="hljs-title function_ invoke__">page_admin</span>(<span class="hljs-variable">$current_page</span>,<span class="hljs-title function_ invoke__">count</span>(<span class="hljs-variable">$news_res</span>),<span class="hljs-variable">$p_page</span>,<span class="hljs-variable">$page</span>);<span class="hljs-comment">//分页</span><br><br><span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;news_page&#x27;</span>] = <span class="hljs-variable">$news_page</span>;<span class="hljs-comment">//视图层变量：分页</span><br><span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;news_list&#x27;</span>] = <span class="hljs-variable">$news_list</span>;<span class="hljs-comment">//视图层变量：企业列表</span><br><span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;news_res&#x27;</span>] = <span class="hljs-title function_ invoke__">count</span>( <span class="hljs-variable">$news_res</span> );<span class="hljs-comment">//视图层变量：企业总数</span><br><span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;id&#x27;</span>] = <span class="hljs-variable">$ids</span>;<br><span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;search&#x27;</span>] = <span class="hljs-variable">$search</span>;<br><br><span class="hljs-variable language_">$this</span>-&gt;load-&gt;<span class="hljs-title function_ invoke__">view</span>(<span class="hljs-string">&#x27;admin/news-list.html&#x27;</span>,<span class="hljs-variable">$data</span>);<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>PHP</tag>
      
      <tag>CodeIgniter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PHP CodeIgniter框架uploadify上传后预览代码示例</title>
    <link href="/24.html"/>
    <url>/24.html</url>
    
    <content type="html"><![CDATA[<p>CodeIgniter 是一个小巧而功能强大的 PHP 框架，支持 MVC 架构和安全性。</p><span id="more"></span><h2 id="V层"><a href="#V层" class="headerlink" title="V层"></a>V层</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>无标题文档<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&lt;?php echo base_url(&#x27;type/js&#x27;)?&gt;/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&lt;?php echo base_url(&#x27;type/js&#x27;)?&gt;/jquery.uploadify.min.js&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&lt;?php echo base_url(&#x27;type/css&#x27;)?&gt;/uploadify.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;file_upload&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file_upload&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> &gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> url = <span class="hljs-string">&quot;&lt;?php echo site_url(&#x27;index/upload_file&#x27;)?&gt;&quot;</span>;</span><br><span class="language-javascript">$(<span class="hljs-string">&#x27;#file_upload&#x27;</span>).<span class="hljs-title function_">uploadify</span>(&#123;</span><br><span class="language-javascript"><span class="hljs-attr">swf</span>:<span class="hljs-string">&#x27;./type/swf/uploadify.swf&#x27;</span>,<span class="hljs-comment">//定义uploadify.swf的路径。</span></span><br><span class="language-javascript"><span class="hljs-attr">uploader</span>:url,<span class="hljs-comment">//定义服务器端上传数据处理脚本文件uploadify.php的路径。</span></span><br><span class="language-javascript"><span class="hljs-attr">fileTypeDesc</span>:<span class="hljs-string">&#x27;Image File&#x27;</span>,<span class="hljs-comment">//可选择的文件类型的描述。此字符串出现在浏览文件对话框的文件类型下拉菜单中。</span></span><br><span class="language-javascript"><span class="hljs-attr">fileTypeExts</span>:<span class="hljs-string">&#x27;*.jpeg;*.jpg;*.png&#x27;</span>,<span class="hljs-comment">//定义允许上传的文件后缀。</span></span><br><span class="language-javascript"><span class="hljs-attr">buttonText</span>:<span class="hljs-string">&#x27;上传&#x27;</span>,<span class="hljs-comment">//定义显示在默认按钮上的文本。</span></span><br><span class="language-javascript"><span class="hljs-attr">fileSizeLimit</span>:<span class="hljs-number">1024</span>,<span class="hljs-comment">//上传文件大小限制。   </span></span><br><span class="language-javascript"><span class="hljs-attr">multi</span>:<span class="hljs-literal">false</span>,<span class="hljs-comment">//设置值为false时，一次只能选中一个文件。</span></span><br><span class="language-javascript"><span class="hljs-attr">auto</span>:<span class="hljs-literal">true</span>,<span class="hljs-comment">//设置auto为true，当文件被添加至上传队列时，将会自动上传。</span></span><br><span class="language-javascript"><span class="hljs-attr">removeTimeout</span>:<span class="hljs-number">0</span>,</span><br><span class="language-javascript"><span class="hljs-attr">onUploadSuccess</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">file,data,response</span>)&#123;<span class="hljs-comment">//每一个文件上传成功时触发该事件。</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">//$(&#x27;#img_show&#x27;).html(&#x27;&lt;img src=&quot;&#x27;+data+&#x27;&quot; width=&quot;200&quot; height=&quot;250&quot;  /&gt;&#x27;);</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">&#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="C层"><a href="#C层" class="headerlink" title="C层"></a>C层</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//uploadify原版</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upload_file</span>(<span class="hljs-params">  </span>)</span>&#123;<br><span class="hljs-variable">$f</span> = <span class="hljs-string">&#x27;ap_&#x27;</span>.<span class="hljs-title function_ invoke__">time</span>().<span class="hljs-string">&#x27;_&#x27;</span>.<span class="hljs-title function_ invoke__">strtoupper</span>(<span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-title function_ invoke__">md5</span>(<span class="hljs-title function_ invoke__">rand</span>()),<span class="hljs-number">0</span>,<span class="hljs-number">4</span>)).<span class="hljs-string">&#x27;.png&#x27;</span>;<br><span class="hljs-variable">$ymd</span> = <span class="hljs-title function_ invoke__">date</span>(<span class="hljs-string">&#x27;Ym&#x27;</span>,<span class="hljs-title function_ invoke__">time</span>());<br><span class="hljs-variable">$targetFolder</span> = <span class="hljs-string">&quot;./uploads/<span class="hljs-subst">$ymd</span>/&quot;</span>;<br><br><span class="hljs-keyword">if</span> ( !<span class="hljs-title function_ invoke__">file_exists</span>( <span class="hljs-variable">$targetFolder</span> ) ) &#123;<br><span class="hljs-title function_ invoke__">mkdir</span>( <span class="hljs-variable">$targetFolder</span> );<br>&#125; <br><br><span class="hljs-keyword">if</span> (!<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$_FILES</span>) ) &#123;<br><span class="hljs-variable">$tempFile</span> = <span class="hljs-variable">$_FILES</span>[<span class="hljs-string">&#x27;Filedata&#x27;</span>][<span class="hljs-string">&#x27;tmp_name&#x27;</span>];<br><span class="hljs-variable">$targetPath</span> = <span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;DOCUMENT_ROOT&#x27;</span>] . <span class="hljs-variable">$targetFolder</span>;<br><span class="hljs-variable">$targetFile</span> = <span class="hljs-title function_ invoke__">rtrim</span>(<span class="hljs-variable">$targetPath</span>,<span class="hljs-string">&#x27;/&#x27;</span>) . <span class="hljs-string">&#x27;/&#x27;</span> . <span class="hljs-variable">$f</span>;<br><br><span class="hljs-comment">// Validate the file type</span><br><span class="hljs-variable">$fileTypes</span> = <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;jpg&#x27;</span>,<span class="hljs-string">&#x27;jpeg&#x27;</span>,<span class="hljs-string">&#x27;gif&#x27;</span>,<span class="hljs-string">&#x27;png&#x27;</span>); <span class="hljs-comment">// File extensions</span><br><span class="hljs-variable">$fileParts</span> = <span class="hljs-title function_ invoke__">pathinfo</span>(<span class="hljs-variable">$_FILES</span>[<span class="hljs-string">&#x27;Filedata&#x27;</span>][<span class="hljs-string">&#x27;name&#x27;</span>]);<br><br><span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">in_array</span>(<span class="hljs-variable">$fileParts</span>[<span class="hljs-string">&#x27;extension&#x27;</span>],<span class="hljs-variable">$fileTypes</span>)) &#123;<br><span class="hljs-title function_ invoke__">move_uploaded_file</span>(<span class="hljs-variable">$tempFile</span>,<span class="hljs-variable">$targetFile</span>);<br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">base_url</span>(<span class="hljs-string">&quot;uploads/<span class="hljs-subst">$ymd</span>&quot;</span>).<span class="hljs-string">&#x27;/&#x27;</span>.<span class="hljs-variable">$f</span>;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;Invalid file type.&#x27;</span>;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//ci版本</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upload_file</span>(<span class="hljs-params">  </span>)</span>&#123;<br><br><span class="hljs-keyword">if</span> (!<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$_FILES</span>[<span class="hljs-string">&#x27;Filedata&#x27;</span>][<span class="hljs-string">&#x27;tmp_name&#x27;</span>]))&#123;<br><br><br><span class="hljs-variable language_">$this</span>-&gt;load-&gt;<span class="hljs-title function_ invoke__">library</span>(<span class="hljs-string">&#x27;upload&#x27;</span>);<br><span class="hljs-variable">$file_name</span> = <span class="hljs-string">&#x27;ap_&#x27;</span>.<span class="hljs-title function_ invoke__">time</span>().<span class="hljs-string">&#x27;_&#x27;</span>.<span class="hljs-title function_ invoke__">strtoupper</span>(<span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-title function_ invoke__">md5</span>(<span class="hljs-title function_ invoke__">rand</span>()),<span class="hljs-number">0</span>,<span class="hljs-number">4</span>));<br><span class="hljs-variable">$ymd</span> = <span class="hljs-title function_ invoke__">date</span>(<span class="hljs-string">&#x27;Ymd&#x27;</span>,<span class="hljs-title function_ invoke__">time</span>());<br><span class="hljs-variable">$upload_path</span> = <span class="hljs-string">&quot;./uploads/<span class="hljs-subst">$ymd</span>/&quot;</span>;<br><br><span class="hljs-keyword">if</span> ( !<span class="hljs-title function_ invoke__">file_exists</span>( <span class="hljs-variable">$upload_path</span> ) ) &#123;<br><span class="hljs-title function_ invoke__">mkdir</span>( <span class="hljs-variable">$upload_path</span> );<br>&#125; <br><br><span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;file_name&#x27;</span>] = <span class="hljs-variable">$file_name</span>;<br><span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;upload_path&#x27;</span>] = <span class="hljs-variable">$upload_path</span>;<br><span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;allowed_types&#x27;</span>] = <span class="hljs-string">&#x27;gif|jpeg|jpg|png&#x27;</span>;<br><span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;overwrite&#x27;</span>] = <span class="hljs-literal">TRUE</span>;<br><span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;detect_mime&#x27;</span>] = <span class="hljs-literal">TRUE</span>;<br><span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;mod_mime_fix&#x27;</span>] = <span class="hljs-literal">TRUE</span>;<br><span class="hljs-variable">$config</span>[<span class="hljs-string">&#x27;max_size&#x27;</span>] = <span class="hljs-string">&#x27;1024&#x27;</span>;<br><span class="hljs-comment">//$config[&#x27;max_width&#x27;] = &#x27;1024&#x27;;</span><br><span class="hljs-comment">//$config[&#x27;max_height&#x27;] = &#x27;768&#x27;;</span><br><br><span class="hljs-variable language_">$this</span>-&gt;upload-&gt;<span class="hljs-title function_ invoke__">initialize</span>(<span class="hljs-variable">$config</span>);<br><br><span class="hljs-keyword">if</span> ( ! <span class="hljs-variable language_">$this</span>-&gt;upload-&gt;<span class="hljs-title function_ invoke__">do_upload</span>(<span class="hljs-string">&#x27;Filedata&#x27;</span>))&#123;<br><br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;上传失败&#x27;</span>;<span class="hljs-comment">//上传失败</span><br>&#125;<span class="hljs-keyword">else</span>&#123;<br><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">base_url</span>(<span class="hljs-string">&quot;uploads/<span class="hljs-subst">$ymd</span>&quot;</span>).<span class="hljs-string">&#x27;/&#x27;</span>.<span class="hljs-variable language_">$this</span>-&gt;upload-&gt;<span class="hljs-title function_ invoke__">data</span>()[<span class="hljs-string">&#x27;file_name&#x27;</span>];<span class="hljs-comment">//上传成功,返回文件名,包含后缀</span><br>&#125;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;上传失败&#x27;</span>;<span class="hljs-comment">//上传失败</span><br>&#125; <br><br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>PHP</tag>
      
      <tag>CodeIgniter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PHP类库PHP QR Code生成二维码代码示例详解</title>
    <link href="/23.html"/>
    <url>/23.html</url>
    
    <content type="html"><![CDATA[<p>PHP QR Code是一个PHP二维码生成类库，利用它可以轻松生成二维码，官网提供了下载和多个演示demo。</p><span id="more"></span><p>下载官网提供的类库后，只需要使用phpqrcode.php就可以生成二维码了，当然您的PHP环境必须开启支持GD2。<br>phpqrcode.php提供了一个关键的png()方法，其中<br>参数 $text &#x3D; 表示生成二位的的信息文本；<br>参数 $outfile &#x3D; 表示是否输出二维码图片 文件，默认否；<br>参数 $level &#x3D; 表示容错率，也就是有被覆盖的区域还能识别，分别是 L，M，Q，H；<br>参数 $size &#x3D; 表示生成图片大小，默认是3；<br>参数 $margin &#x3D; 表示二维码周围边框空白区域间距值；<br>参数 $saveandprint &#x3D; 表示是否保存二维码并 显示。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">include</span> <span class="hljs-string">&#x27;phpqrcode.php&#x27;</span>; <br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qrcode</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-variable">$url</span> = <span class="hljs-string">&#x27;http://m.weldhome.com.cn&#x27;</span>;<span class="hljs-comment">//二维码内容</span><br><span class="hljs-variable">$errorCorrectionLevel</span>= <span class="hljs-string">&#x27;L&#x27;</span>;<span class="hljs-comment">//容错级别</span><br><span class="hljs-variable">$matrixPointSize</span>= <span class="hljs-number">6</span>;<span class="hljs-comment">//生成图片大小</span><br><span class="hljs-variable">$img</span> = <span class="hljs-string">&#x27;uploads/qrcode.png&#x27;</span>;<span class="hljs-comment">//生成二维码图片</span><br><span class="hljs-title class_">QRcode</span>::<span class="hljs-title function_ invoke__">png</span>(<span class="hljs-variable">$url</span>,<span class="hljs-variable">$img</span>,<span class="hljs-variable">$errorCorrectionLevel</span>,<span class="hljs-variable">$matrixPointSize</span>,<span class="hljs-number">2</span>); <span class="hljs-comment">//生成二维码</span><br><span class="hljs-variable">$QR</span>= <span class="hljs-title function_ invoke__">base_url</span>(<span class="hljs-string">&#x27;uploads&#x27;</span>).<span class="hljs-string">&#x27;/qrcode.png&#x27;</span>;<span class="hljs-comment">//已经生成的原始二维码图</span><br><span class="hljs-keyword">return</span> <span class="hljs-variable">$QR</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>PHP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpMyAdmin修改root密码后出现访问被拒绝的问题的解决办法</title>
    <link href="/22.html"/>
    <url>/22.html</url>
    
    <content type="html"><![CDATA[<p>phpMyAdmin 是众多 MySQL图形化管理工具中使用最为广泛的一种，是一款使用PHP 开发的基于B&#x2F;S模式的 MySQL 客户端软件，该工具是基于 Web 跨平台的管理程序，并且支持简体中文，用户可以在官网上下载最新版本的。</p><span id="more"></span><p>在phpMyAdmin修改用户的密码其实是修改了MySQL里面用户的密码，但是phpMyAdmin这个站点本身用户的信息并没有更新。需要手动更新。</p><p>修改文件：C:\xampp\phpMyAdmin\config.inc.php，找到这一节：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">/* Authentication type and info */</span><br><span class="hljs-variable">$cfg</span>[<span class="hljs-string">&#x27;Servers&#x27;</span>][<span class="hljs-variable">$i</span>][<span class="hljs-string">&#x27;auth_type&#x27;</span>] = <span class="hljs-string">&#x27;config&#x27;</span>;<br><span class="hljs-variable">$cfg</span>[<span class="hljs-string">&#x27;Servers&#x27;</span>][<span class="hljs-variable">$i</span>][<span class="hljs-string">&#x27;user&#x27;</span>] = <span class="hljs-string">&#x27;root&#x27;</span>;<br><span class="hljs-variable">$cfg</span>[<span class="hljs-string">&#x27;Servers&#x27;</span>][<span class="hljs-variable">$i</span>][<span class="hljs-string">&#x27;password&#x27;</span>] = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-variable">$cfg</span>[<span class="hljs-string">&#x27;Servers&#x27;</span>][<span class="hljs-variable">$i</span>][<span class="hljs-string">&#x27;extension&#x27;</span>] = <span class="hljs-string">&#x27;mysqli&#x27;</span>;<br><span class="hljs-variable">$cfg</span>[<span class="hljs-string">&#x27;Servers&#x27;</span>][<span class="hljs-variable">$i</span>][<span class="hljs-string">&#x27;AllowNoPassword&#x27;</span>] = <span class="hljs-literal">true</span>;<br><span class="hljs-variable">$cfg</span>[<span class="hljs-string">&#x27;Lang&#x27;</span>] = <span class="hljs-string">&#x27;&#x27;</span>;<br></code></pre></td></tr></table></figure><p>在password那一行加上密码就行了。其他地方都不用改。</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpMyAdmin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>thinkPHP5表单验证Validate代码示例</title>
    <link href="/21.html"/>
    <url>/21.html</url>
    
    <content type="html"><![CDATA[<p>ThinkPHP 是一个免费开源的，快速、简单的面向对象的 轻量级PHP开发框架 ，是为了敏捷WEB应用开发和简化企业应用开发而诞生的。</p><span id="more"></span><p>路径：admin\validate\validate.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><br><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">admin</span>\<span class="hljs-title class_">validate</span>;<br><span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Validate</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Category</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Validate</span></span>&#123;<br><br>    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$rule</span> = [<br><br>        [<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;require|max:40&#x27;</span>,<span class="hljs-string">&#x27;分类名称不能为空|分类名最多不能超过40个字符&#x27;</span>],<br>        [<span class="hljs-string">&#x27;parent_id&#x27;</span>,<span class="hljs-string">&#x27;number&#x27;</span>],<br>        [<span class="hljs-string">&#x27;id&#x27;</span>,<span class="hljs-string">&#x27;number&#x27;</span>],<br>        [<span class="hljs-string">&#x27;status&#x27;</span>,<span class="hljs-string">&#x27;number|in:-1,0,1&#x27;</span>,<span class="hljs-string">&#x27;状态必须为数字|状态范围不合法&#x27;</span>],<br>        [<span class="hljs-string">&#x27;listorder&#x27;</span>,<span class="hljs-string">&#x27;number&#x27;</span>]<br>    ];<br><br>    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$scene</span> = [<br><br>        <span class="hljs-comment">// 注册场景</span><br>        <span class="hljs-string">&#x27;add&#x27;</span>=&gt;[<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;parent_id&#x27;</span>],<br>        <span class="hljs-comment">// 排序</span><br>        <span class="hljs-string">&#x27;listorder&#x27;</span>=&gt;[<span class="hljs-string">&#x27;id&#x27;</span>,<span class="hljs-string">&#x27;listorder&#x27;</span>]<br>    ];<br>&#125;<br></code></pre></td></tr></table></figure><p>路径：admin\controller\Category.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">admin</span>\<span class="hljs-title class_">controller</span>;<br><br><span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Controller</span>;<br><span class="hljs-keyword">use</span> <span class="hljs-title">app</span>\<span class="hljs-title">common</span>\<span class="hljs-title">model</span>\<span class="hljs-title">category</span> <span class="hljs-keyword">as</span> <span class="hljs-title">categoryModel</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Category</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span></span>&#123;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>        <span class="hljs-variable">$category</span> = category<span class="hljs-title class_">Model</span>::<span class="hljs-title function_ invoke__">where</span>([<span class="hljs-string">&#x27;parent_id&#x27;</span>=&gt;<span class="hljs-number">0</span>])-&gt;<span class="hljs-title function_ invoke__">order</span>(<span class="hljs-string">&#x27;id desc&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">select</span>();<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">view</span>(<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-title function_ invoke__">compact</span>(<span class="hljs-string">&#x27;category&#x27;</span>));<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">save</span>(<span class="hljs-params"></span>)</span>&#123;<br><br><span class="hljs-variable">$validate</span> = <span class="hljs-title function_ invoke__">validate</span>(<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">&#x27;&#x27;</span>));<br>        !<span class="hljs-variable">$validate</span>-&gt;<span class="hljs-title function_ invoke__">scene</span>(<span class="hljs-string">&#x27;add&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">check</span>(<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)) &amp;&amp; <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-variable">$validate</span>-&gt;<span class="hljs-title function_ invoke__">getError</span>());<br>&#125;<br>    <br>&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>tinkphp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>thinkPHP5结合Ajax代码示例</title>
    <link href="/20.html"/>
    <url>/20.html</url>
    
    <content type="html"><![CDATA[<p>Ajax（Asynchronous Javascript And XML），即是异步的JavaScript和XML，Ajax其实就是浏览器与服务器之间的一种异步通信方式。</p><span id="more"></span><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;volist name=<span class="hljs-string">&#x27;category&#x27;</span> id=<span class="hljs-string">&#x27;c&#x27;</span>&#125;<br>&lt;tr <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;text-c&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;$c-&gt;id&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;$c-&gt;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-c listorder&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;3&quot;</span> <span class="hljs-attr">attr-id</span>=<span class="hljs-string">&quot;&#123;$c-&gt;id&#125;&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;listorder&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#123;$c-&gt;listorder&#125;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>&#123;$c-&gt;create_time&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;td-status&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;:url(&#x27;/admin/category/status&#x27;,[&#x27;id&#x27;=&gt;$c-&gt;id,&#x27;status&#x27;=&gt;1?0:1])&#125;&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;点击修改状态&quot;</span>&gt;</span>&#123;$c-&gt;status|status&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;td-manage&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;:url(&#x27;admin/category/se_category&#x27;,[&#x27;id&#x27;=&gt;$c-&gt;id])&#125;&quot;</span>&gt;</span>获取子栏目<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-decoration:none&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ml-5&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&quot;o2o_s_edit(&#x27;编辑&#x27;,&#x27;&#123;:url(\&#x27;admin/category/edit\&#x27;,[\&#x27;id\&#x27;=&gt;$c-&gt;id])&#125;&#x27;,&#x27;&#x27;,300)&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;编辑&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Hui-iconfont&quot;</span>&gt;</span><span class="hljs-symbol">&amp;#xe6df;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-decoration:none&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ml-5&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&quot;o2o_del(&#x27;&#123;:url(\&#x27;/admin/category/status\&#x27;,[\&#x27;id\&#x27;=&gt;$c-&gt;id,\&#x27;status\&#x27;=&gt;-1])&#125;&#x27;)&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;删除&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Hui-iconfont&quot;</span>&gt;</span><span class="hljs-symbol">&amp;#xe6e2;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br>&#123;/volist&#125;<br><br>&lt;script&gt;<br><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">SCOPE</span> = &#123;<br><span class="hljs-string">&#x27;listorder_url&#x27;</span>:<span class="hljs-string">&quot;&#123;:url(&#x27;/admin/category/listorder&#x27;)&#125;&quot;</span>,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h2 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 离开焦点事件</span><br>$(<span class="hljs-string">&#x27;.listorder input&#x27;</span>).<span class="hljs-title function_">blur</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-comment">// ajax抛送逻辑</span><br><span class="hljs-comment">// 获取主键ID</span><br><span class="hljs-keyword">var</span> id = $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;attr-id&#x27;</span>);<br><span class="hljs-comment">// 获取排序值</span><br><span class="hljs-keyword">var</span> listorder = $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">val</span>();<br><span class="hljs-comment">// alert(listorder);</span><br><span class="hljs-keyword">var</span> ajaxData = &#123;<br><span class="hljs-string">&#x27;id&#x27;</span>:id,<br><span class="hljs-string">&#x27;listorder&#x27;</span>:listorder,<br>&#125;;<br><span class="hljs-keyword">var</span> url = <span class="hljs-variable constant_">SCOPE</span>.<span class="hljs-property">listorder_url</span>;<br><span class="hljs-comment">// 抛送 POST</span><br>$.<span class="hljs-title function_">post</span>(url,ajaxData,<span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>)&#123;<br><span class="hljs-keyword">if</span>(result.<span class="hljs-property">code</span>==<span class="hljs-number">1</span>)&#123;<br>location.<span class="hljs-property">href</span>=result.<span class="hljs-property">url</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-title function_">alert</span>(result.<span class="hljs-property">msg</span>);<br>&#125;<br><br>&#125;);<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// 排序</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listorder</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <br>        <span class="hljs-variable">$validate</span> = <span class="hljs-title function_ invoke__">validate</span>(<span class="hljs-string">&#x27;Category&#x27;</span>);<br>        ! <span class="hljs-variable">$validate</span>-&gt;<span class="hljs-title function_ invoke__">scene</span>(<span class="hljs-string">&#x27;listorder&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">check</span>(<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">&#x27;&#x27;</span>)) &amp;&amp; <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-variable">$validate</span>-&gt;<span class="hljs-title function_ invoke__">getError</span>());<br>        <span class="hljs-variable">$res</span> = category<span class="hljs-title class_">Model</span>::<span class="hljs-title function_ invoke__">update</span>(<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">&#x27;&#x27;</span>));<br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable">$res</span>===<span class="hljs-literal">false</span>)&#123;<br>            <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">&#x27;修改失败&#x27;</span>);<br>        &#125;<br>        <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">success</span>(<span class="hljs-string">&#x27;修改成功&#x27;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>tinkphp</tag>
      
      <tag>ajax</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>thinkPHP5自定义分页Page代码示例</title>
    <link href="/19.html"/>
    <url>/19.html</url>
    
    <content type="html"><![CDATA[<p>ThinkPHP 是一个免费开源的，快速、简单的面向对象的 轻量级PHP开发框架 ，是为了敏捷WEB应用开发和简化企业应用开发而诞生的。</p><span id="more"></span><h2 id="Page-php"><a href="#Page-php" class="headerlink" title="Page.php"></a>Page.php</h2><p>在extend\目录下创建page目录，在page目录中创建Page.php文件，将以下代码放入文件中</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">page</span>;<br><br><span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Paginator</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Page</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Paginator</span></span><br><span class="hljs-class"></span>&#123;<br><br>    <span class="hljs-comment">//首页</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">home</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">currentPage</span>() &gt; <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;a href=&#x27;&quot;</span> . <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">url</span>(<span class="hljs-number">1</span>) . <span class="hljs-string">&quot;&#x27; title=&#x27;首页&#x27;&gt;首页&lt;/a&gt;&quot;</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;p&gt;首页&lt;/p&gt;&quot;</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//上一页</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prev</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">currentPage</span>() &gt; <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;a href=&#x27;&quot;</span> . <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">url</span>(<span class="hljs-variable">$this</span>-&gt;currentPage - <span class="hljs-number">1</span>) . <span class="hljs-string">&quot;&#x27; title=&#x27;上一页&#x27;&gt;上一页&lt;/a&gt;&quot;</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;p&gt;上一页&lt;/p&gt;&quot;</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//下一页</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">next</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;hasMore) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;a href=&#x27;&quot;</span> . <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">url</span>(<span class="hljs-variable">$this</span>-&gt;currentPage + <span class="hljs-number">1</span>) . <span class="hljs-string">&quot;&#x27; title=&#x27;下一页&#x27;&gt;下一页&lt;/a&gt;&quot;</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span><span class="hljs-string">&quot;&lt;p&gt;下一页&lt;/p&gt;&quot;</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//尾页</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">last</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;hasMore) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;a href=&#x27;&quot;</span> . <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">url</span>(<span class="hljs-variable">$this</span>-&gt;lastPage) . <span class="hljs-string">&quot;&#x27; title=&#x27;尾页&#x27;&gt;尾页&lt;/a&gt;&quot;</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;p&gt;尾页&lt;/p&gt;&quot;</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//统计信息</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">info</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;p class=&#x27;pageRemark&#x27;&gt;共&lt;b&gt;&quot;</span> . <span class="hljs-variable language_">$this</span>-&gt;lastPage .<br>            <span class="hljs-string">&quot;&lt;/b&gt;页&lt;b&gt;&quot;</span> . <span class="hljs-variable language_">$this</span>-&gt;total . <span class="hljs-string">&quot;&lt;/b&gt;条数据&lt;/p&gt;&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 页码按钮</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> string</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLinks</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br><br>        <span class="hljs-variable">$block</span> = [<br>            <span class="hljs-string">&#x27;first&#x27;</span>  =&gt; <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&#x27;slider&#x27;</span> =&gt; <span class="hljs-literal">null</span>,<br>            <span class="hljs-string">&#x27;last&#x27;</span>   =&gt; <span class="hljs-literal">null</span><br>        ];<br><br>        <span class="hljs-variable">$side</span>   = <span class="hljs-number">3</span>;<br>        <span class="hljs-variable">$window</span> = <span class="hljs-variable">$side</span> * <span class="hljs-number">2</span>;<br><br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;lastPage &lt; <span class="hljs-variable">$window</span> + <span class="hljs-number">6</span>) &#123;<br>            <span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;first&#x27;</span>] = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlRange</span>(<span class="hljs-number">1</span>, <span class="hljs-variable">$this</span>-&gt;lastPage);<br>        &#125; <span class="hljs-keyword">elseif</span> (<span class="hljs-variable language_">$this</span>-&gt;currentPage &lt;= <span class="hljs-variable">$window</span>) &#123;<br>            <span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;first&#x27;</span>] = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlRange</span>(<span class="hljs-number">1</span>, <span class="hljs-variable">$window</span> + <span class="hljs-number">2</span>);<br>            <span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;last&#x27;</span>]  = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlRange</span>(<span class="hljs-variable">$this</span>-&gt;lastPage - <span class="hljs-number">1</span>, <span class="hljs-variable">$this</span>-&gt;lastPage);<br>        &#125; <span class="hljs-keyword">elseif</span> (<span class="hljs-variable language_">$this</span>-&gt;currentPage &gt; (<span class="hljs-variable language_">$this</span>-&gt;lastPage - <span class="hljs-variable">$window</span>)) &#123;<br>            <span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;first&#x27;</span>] = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlRange</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<br>            <span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;last&#x27;</span>]  = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlRange</span>(<span class="hljs-variable">$this</span>-&gt;lastPage - (<span class="hljs-variable">$window</span> + <span class="hljs-number">2</span>), <span class="hljs-variable language_">$this</span>-&gt;lastPage);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;first&#x27;</span>]  = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlRange</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<br>            <span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;slider&#x27;</span>] = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlRange</span>(<span class="hljs-variable">$this</span>-&gt;currentPage - <span class="hljs-variable">$side</span>, <span class="hljs-variable">$this</span>-&gt;currentPage + <span class="hljs-variable">$side</span>);<br>            <span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;last&#x27;</span>]   = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlRange</span>(<span class="hljs-variable">$this</span>-&gt;lastPage - <span class="hljs-number">1</span>, <span class="hljs-variable">$this</span>-&gt;lastPage);<br>        &#125;<br><br>        <span class="hljs-variable">$html</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br><br>        <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;first&#x27;</span>])) &#123;<br>            <span class="hljs-variable">$html</span> .= <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlLinks</span>(<span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;first&#x27;</span>]);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;slider&#x27;</span>])) &#123;<br>            <span class="hljs-variable">$html</span> .= <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getDots</span>();<br>            <span class="hljs-variable">$html</span> .= <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlLinks</span>(<span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;slider&#x27;</span>]);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">is_array</span>(<span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;last&#x27;</span>])) &#123;<br>            <span class="hljs-variable">$html</span> .= <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getDots</span>();<br>            <span class="hljs-variable">$html</span> .= <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getUrlLinks</span>(<span class="hljs-variable">$block</span>[<span class="hljs-string">&#x27;last&#x27;</span>]);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable">$html</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 渲染分页html</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> mixed</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">hasPages</span>()) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">$this</span>-&gt;simple) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">sprintf</span>(<br>                    <span class="hljs-string">&#x27;%s&lt;div class=&quot;pagination&quot;&gt;%s %s %s&lt;/div&gt;&#x27;</span>,<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">css</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">prev</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">getLinks</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">next</span>()<br>                );<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">sprintf</span>(<br>                    <span class="hljs-string">&#x27;%s&lt;div class=&quot;pagination&quot;&gt;%s %s %s %s %s %s&lt;/div&gt;&#x27;</span>,<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">css</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">home</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">prev</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">getLinks</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">next</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">last</span>(),<br>                    <span class="hljs-variable">$this</span>-&gt;<span class="hljs-title function_ invoke__">info</span>()<br>                );<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 生成一个可点击的按钮</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  string $url</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  int    $page</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> string</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAvailablePageWrapper</span>(<span class="hljs-params"><span class="hljs-variable">$url</span>, <span class="hljs-variable">$page</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;a href=&quot;&#x27;</span> . <span class="hljs-title function_ invoke__">htmlentities</span>(<span class="hljs-variable">$url</span>) . <span class="hljs-string">&#x27;&quot; title=&quot;第&quot;&#x27;</span>. <span class="hljs-variable">$page</span> .<span class="hljs-string">&#x27;&quot;页&quot; &gt;&#x27;</span> . <span class="hljs-variable">$page</span> . <span class="hljs-string">&#x27;&lt;/a&gt;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 生成一个禁用的按钮</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  string $text</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> string</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDisabledTextWrapper</span>(<span class="hljs-params"><span class="hljs-variable">$text</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;p class=&quot;pageEllipsis&quot;&gt;&#x27;</span> . <span class="hljs-variable">$text</span> . <span class="hljs-string">&#x27;&lt;/p&gt;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 生成一个激活的按钮</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  string $text</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> string</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getActivePageWrapper</span>(<span class="hljs-params"><span class="hljs-variable">$text</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;a href=&quot;&quot; class=&quot;cur&quot;&gt;&#x27;</span> . <span class="hljs-variable">$text</span> . <span class="hljs-string">&#x27;&lt;/a&gt;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 生成省略号按钮</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> string</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDots</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getDisabledTextWrapper</span>(<span class="hljs-string">&#x27;...&#x27;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 批量生成页码按钮.</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  array $urls</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> string</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUrlLinks</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> <span class="hljs-variable">$urls</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-variable">$html</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br><br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$urls</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$page</span> =&gt; <span class="hljs-variable">$url</span>) &#123;<br>            <span class="hljs-variable">$html</span> .= <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getPageLinkWrapper</span>(<span class="hljs-variable">$url</span>, <span class="hljs-variable">$page</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable">$html</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 生成普通页码按钮</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  string $url</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span>  int    $page</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> string</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPageLinkWrapper</span>(<span class="hljs-params"><span class="hljs-variable">$url</span>, <span class="hljs-variable">$page</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$page</span> == <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">currentPage</span>()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getActivePageWrapper</span>(<span class="hljs-variable">$page</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getAvailablePageWrapper</span>(<span class="hljs-variable">$url</span>, <span class="hljs-variable">$page</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 分页样式</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">css</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;  &lt;style type=&quot;text/css&quot;&gt;</span><br><span class="hljs-string">            .pagination p&#123;</span><br><span class="hljs-string">                margin:0;</span><br><span class="hljs-string">                cursor:pointer</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .pagination&#123;</span><br><span class="hljs-string">                height:40px;</span><br><span class="hljs-string">                padding:20px 0px;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .pagination a&#123;</span><br><span class="hljs-string">                display:block;</span><br><span class="hljs-string">                float:left;</span><br><span class="hljs-string">                margin-right:10px;</span><br><span class="hljs-string">                padding:2px 12px;</span><br><span class="hljs-string">                height:24px;</span><br><span class="hljs-string">                border:1px #cccccc solid;</span><br><span class="hljs-string">                background:#fff;</span><br><span class="hljs-string">                text-decoration:none;</span><br><span class="hljs-string">                color:#808080;</span><br><span class="hljs-string">                font-size:12px;</span><br><span class="hljs-string">                line-height:24px;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .pagination a:hover&#123;</span><br><span class="hljs-string">                color:#077ee3;</span><br><span class="hljs-string">                background: white;</span><br><span class="hljs-string">                border:1px #077ee3 solid;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .pagination a.cur&#123;</span><br><span class="hljs-string">                border:none;</span><br><span class="hljs-string">                background:#077ee3;</span><br><span class="hljs-string">                color:#fff;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .pagination p&#123;</span><br><span class="hljs-string">                float:left;</span><br><span class="hljs-string">                padding:2px 12px;</span><br><span class="hljs-string">                font-size:12px;</span><br><span class="hljs-string">                height:24px;</span><br><span class="hljs-string">                line-height:24px;</span><br><span class="hljs-string">                color:#bbb;</span><br><span class="hljs-string">                border:1px #ccc solid;</span><br><span class="hljs-string">                background:#fcfcfc;</span><br><span class="hljs-string">                margin-right:8px;</span><br><span class="hljs-string"></span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .pagination p.pageRemark&#123;</span><br><span class="hljs-string">                border-style:none;</span><br><span class="hljs-string">                background:none;</span><br><span class="hljs-string">                margin-right:0px;</span><br><span class="hljs-string">                padding:4px 0px;</span><br><span class="hljs-string">                color:#666;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .pagination p.pageRemark b&#123;</span><br><span class="hljs-string">                color:red;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .pagination p.pageEllipsis&#123;</span><br><span class="hljs-string">                border-style:none;</span><br><span class="hljs-string">                background:none;</span><br><span class="hljs-string">                padding:4px 0px;</span><br><span class="hljs-string">                color:#808080;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">            .dates li &#123;font-size: 14px;margin:20px 0&#125;</span><br><span class="hljs-string">            .dates li span&#123;float:right&#125;</span><br><span class="hljs-string">        &lt;/style&gt;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="config-php"><a href="#config-php" class="headerlink" title="config.php"></a>config.php</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//分页配置  </span><br>   <span class="hljs-string">&#x27;paginate&#x27;</span>               =&gt; [  <br>       <span class="hljs-string">&#x27;type&#x27;</span>      =&gt; <span class="hljs-string">&#x27;page\Page&#x27;</span>,<span class="hljs-comment">//分页类  </span><br>       <span class="hljs-string">&#x27;var_page&#x27;</span>  =&gt; <span class="hljs-string">&#x27;page&#x27;</span>,  <br>       <span class="hljs-string">&#x27;list_rows&#x27;</span> =&gt; <span class="hljs-number">15</span>,  <br>   ],<br></code></pre></td></tr></table></figure><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>=&quot;<span class="hljs-title">cl</span> <span class="hljs-title">pd</span>-5 <span class="hljs-title">bg</span>-1 <span class="hljs-title">bk</span>-<span class="hljs-title">gray</span> <span class="hljs-title">mt</span>-20&quot;&gt;</span>&#123;<span class="hljs-variable">$data</span>-&gt;<span class="hljs-title function_ invoke__">render</span>()&#125;&lt;/div&gt;<br></code></pre></td></tr></table></figure><h2 id="php-index"><a href="#php-index" class="headerlink" title="php index"></a>php index</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>    <span class="hljs-variable">$data</span> = <span class="hljs-title class_">CategoryModel</span>::<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">&quot;parent_id=0&quot;</span>)-&gt;<span class="hljs-title function_ invoke__">order</span>(<span class="hljs-string">&#x27;listorder desc&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">paginate</span>(<span class="hljs-number">10</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">view</span>(<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-title function_ invoke__">compact</span>(<span class="hljs-string">&#x27;data&#x27;</span>));<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>tinkphp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>thinkPHP5命令行创建（module、controller、model）代码示例</title>
    <link href="/18.html"/>
    <url>/18.html</url>
    
    <content type="html"><![CDATA[<p>ThinkPHP 是一个免费开源的，快速、简单的面向对象的 轻量级PHP开发框架 ，是为了敏捷WEB应用开发和简化企业应用开发而诞生的。</p><span id="more"></span><h2 id="命令行创建模块目录"><a href="#命令行创建模块目录" class="headerlink" title="命令行创建模块目录"></a>命令行创建模块目录</h2><p>通常可以通过以下命令，自动生成模块目录</p><p>php think build –module 模块名</p><p>比如：创建test模块目录，执行命令 php think build –module test即可。（模块名小写）</p><h2 id="命令行创建控制器"><a href="#命令行创建控制器" class="headerlink" title="命令行创建控制器"></a>命令行创建控制器</h2><p>通常可以通过以下命令，自动创建控制器</p><p>php think make:controller 模块名&#x2F;控制器名<br>php think make:controller 模块名&#x2F;控制器名 –plain</p><p>加上 –plain 参数 表示创建没有方法的空控制器类。否则控制器类中会自带一些方法。</p><p>比如：创建home模块Index控制器，执行命令 php think make:controller home&#x2F;Index即可。</p><h2 id="命令行创建模型"><a href="#命令行创建模型" class="headerlink" title="命令行创建模型"></a>命令行创建模型</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">php think make:model admin/Member<br></code></pre></td></tr></table></figure><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>控制器名首字母大写。</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>tinkphp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>thinkPHP5与WdatePicker日历控件报错解决方法代码示例</title>
    <link href="/17.html"/>
    <url>/17.html</url>
    
    <content type="html"><![CDATA[<p>ThinkPHP 是一个免费开源的，快速、简单的面向对象的 轻量级PHP开发框架 ，是为了敏捷WEB应用开发和简化企业应用开发而诞生的。</p><span id="more"></span><p>解决方法如下</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;literal&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">onfocus</span>=<span class="hljs-string">&quot;WdatePicker(&#123;maxDate:&#x27;#F&#123;$dp.$D(\&#x27;logmax\&#x27;)||\&#x27;%y-%M-%d\&#x27;&#125;&#x27;&#125;)&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;logmin&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-text Wdate&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width:120px;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">onfocus</span>=<span class="hljs-string">&quot;WdatePicker(&#123;minDate:&#x27;#F&#123;$dp.$D(\&#x27;logmin\&#x27;)&#125;&#x27;,maxDate:&#x27;%y-%M-%d&#x27;&#125;)&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;logmax&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-text Wdate&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width:120px;&quot;</span>&gt;</span><br>&#123;/literal&#125;<br></code></pre></td></tr></table></figure><p>thinkphp使用literal防止模板标签被解析</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>tinkphp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tinkphp5验证码captcha配置参数详解</title>
    <link href="/16.html"/>
    <url>/16.html</url>
    
    <content type="html"><![CDATA[<p>ThinkPHP 是一个免费开源的，快速、简单的面向对象的 轻量级PHP开发框架 ，是为了敏捷WEB应用开发和简化企业应用开发而诞生的。</p><span id="more"></span><h2 id="验证码配置"><a href="#验证码配置" class="headerlink" title="验证码配置"></a>验证码配置</h2><p>应用配置文件中添加验证码的配置参数</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// 验证码配置</span><br>   <span class="hljs-string">&#x27;captcha&#x27;</span>  =&gt; [<br>       <span class="hljs-comment">// 验证码字符集合</span><br>       <span class="hljs-string">&#x27;codeSet&#x27;</span>  =&gt; <span class="hljs-string">&#x27;2345678abcdefhijkmnpqrstuvwxyzABCDEFGHJKLMNPQRTUVWXY&#x27;</span>, <br>       <span class="hljs-comment">// 验证码字体大小(px)</span><br>       <span class="hljs-string">&#x27;fontSize&#x27;</span> =&gt; <span class="hljs-number">25</span>, <br>       <span class="hljs-comment">// 是否画混淆曲线</span><br>       <span class="hljs-string">&#x27;useCurve&#x27;</span> =&gt; <span class="hljs-literal">true</span>, <br>           <span class="hljs-comment">// 验证码图片高度</span><br>       <span class="hljs-string">&#x27;imageH&#x27;</span>   =&gt; <span class="hljs-number">50</span>,<br>       <span class="hljs-comment">// 验证码图片宽度</span><br>       <span class="hljs-string">&#x27;imageW&#x27;</span>   =&gt; <span class="hljs-number">200</span>, <br>       <span class="hljs-comment">// 验证码位数</span><br>       <span class="hljs-string">&#x27;length&#x27;</span>   =&gt; <span class="hljs-number">2</span>, <br>       <span class="hljs-comment">// 验证成功后是否重置        </span><br>       <span class="hljs-string">&#x27;reset&#x27;</span>    =&gt; <span class="hljs-literal">true</span><br>   ],<br></code></pre></td></tr></table></figure><h2 id="验证码显示"><a href="#验证码显示" class="headerlink" title="验证码显示"></a>验证码显示</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&#123;:captcha_src()&#125;&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;captcha&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;this.src=this.src+&#x27;?&#x27;+Math.random()&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>tinkphp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tinkphp5增删改查代码示例</title>
    <link href="/15.html"/>
    <url>/15.html</url>
    
    <content type="html"><![CDATA[<p>ThinkPHP 是一个免费开源的，快速、简单的面向对象的 轻量级PHP开发框架 ，是为了敏捷WEB应用开发和简化企业应用开发而诞生的。</p><span id="more"></span><h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// 更新栏目</span><br>   <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">edits</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>       <span class="hljs-variable">$d</span> = <span class="hljs-title function_ invoke__">input</span>();<br>       <span class="hljs-variable">$msg</span> = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">validate</span>(<span class="hljs-variable">$d</span>,<span class="hljs-string">&#x27;Cate&#x27;</span>);<br>       <span class="hljs-keyword">if</span>(<span class="hljs-variable">$msg</span>==<span class="hljs-number">1</span>)&#123;<br><br>           <span class="hljs-variable">$data</span> = [<br>               <span class="hljs-string">&#x27;cate_name&#x27;</span>=&gt;<span class="hljs-variable">$d</span>[<span class="hljs-string">&#x27;cate_name&#x27;</span>],<br>               <span class="hljs-string">&#x27;cate_pid&#x27;</span>=&gt;<span class="hljs-variable">$d</span>[<span class="hljs-string">&#x27;cate_pid&#x27;</span>],<br>               <span class="hljs-string">&#x27;cate_sort&#x27;</span>=&gt;<span class="hljs-variable">$d</span>[<span class="hljs-string">&#x27;cate_pid&#x27;</span>]<br>           ];<br>           <span class="hljs-variable">$r</span> = <span class="hljs-title function_ invoke__">model</span>(<span class="hljs-string">&#x27;Cate&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">save</span>(<span class="hljs-variable">$data</span>,[<span class="hljs-string">&#x27;cate_id&#x27;</span>=&gt;<span class="hljs-variable">$d</span>[<span class="hljs-string">&#x27;cate_id&#x27;</span>]]);<br>           <span class="hljs-keyword">if</span>(!<span class="hljs-variable">$r</span>)&#123;<br>               <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">&#x27;更新失败！&#x27;</span>);<br>           &#125;<span class="hljs-keyword">else</span>&#123;<br>               <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">success</span>(<span class="hljs-string">&#x27;更新成功！&#x27;</span>,<span class="hljs-string">&#x27;list&#x27;</span>);<br>           &#125;<br>       &#125;<span class="hljs-keyword">else</span>&#123;<br>           <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-variable">$msg</span>);<br>       &#125;<br>   &#125;<br><br></code></pre></td></tr></table></figure><h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// 删除栏目</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">del</span>(<span class="hljs-params"><span class="hljs-variable">$cate_id</span></span>)</span>&#123;<br><br>        <span class="hljs-variable">$s</span> = <span class="hljs-title function_ invoke__">model</span>(<span class="hljs-string">&#x27;Cate&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">&#x27;cate_pid&#x27;</span>,<span class="hljs-variable">$cate_id</span>)-&gt;<span class="hljs-title function_ invoke__">select</span>();<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-variable">$s</span>)&#123;<br>            <span class="hljs-variable">$r</span> = <span class="hljs-title function_ invoke__">model</span>(<span class="hljs-string">&#x27;Cate&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">&#x27;cate_id&#x27;</span>,<span class="hljs-variable">$cate_id</span>)-&gt;<span class="hljs-title function_ invoke__">delete</span>();<br>            <span class="hljs-keyword">if</span>(!<span class="hljs-variable">$r</span>)&#123;<br>                <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">&#x27;删除失败！&#x27;</span>);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">success</span>(<span class="hljs-string">&#x27;删除栏目成功！&#x27;</span>,<span class="hljs-string">&#x27;list&#x27;</span>);<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">&#x27;包含子栏目，无法删除！&#x27;</span>);<br>        &#125;<br>        <br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// 添加顶级栏目</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">adds</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>        <span class="hljs-variable">$data</span> = <span class="hljs-title function_ invoke__">input</span>();<br>        <span class="hljs-variable">$msg</span> = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">validate</span>(<span class="hljs-variable">$data</span>,<span class="hljs-string">&#x27;Cate&#x27;</span>);<br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable">$msg</span>==<span class="hljs-number">1</span>)&#123;<br><br>            <span class="hljs-variable">$r</span> = <span class="hljs-title function_ invoke__">model</span>(<span class="hljs-string">&#x27;cate&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">data</span>([<span class="hljs-string">&#x27;cate_name&#x27;</span>=&gt;<span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;cate_name&#x27;</span>],<span class="hljs-string">&#x27;cate_pid&#x27;</span>=&gt;<span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;cate_pid&#x27;</span>],<span class="hljs-string">&#x27;cate_sort&#x27;</span>=&gt;<span class="hljs-variable">$data</span>[<span class="hljs-string">&#x27;cate_sort&#x27;</span>]])-&gt;<span class="hljs-title function_ invoke__">save</span>();<br>            <br>            <span class="hljs-keyword">if</span>(!<span class="hljs-variable">$r</span>)&#123;<br>                <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">&#x27;添加失败！&#x27;</span>);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">success</span>(<span class="hljs-string">&#x27;添加成功！&#x27;</span>,<span class="hljs-string">&#x27;admin/cate/list&#x27;</span>);<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-variable">$msg</span>);<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//子栏目列表</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listson</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>        <span class="hljs-variable">$cate_id</span> = <span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">&#x27;cate_id&#x27;</span>);<br>        <span class="hljs-variable">$r</span> = <span class="hljs-title function_ invoke__">model</span>(<span class="hljs-string">&#x27;Cate&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">&#x27;cate_pid&#x27;</span>,<span class="hljs-variable">$cate_id</span>)-&gt;<span class="hljs-title function_ invoke__">select</span>();<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-variable">$r</span>)&#123;<br>            <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">&#x27;没有子栏目&#x27;</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-variable">$r</span> = <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">arr</span>(<span class="hljs-variable">$r</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">view</span>(<span class="hljs-string">&#x27;listson&#x27;</span>,[<span class="hljs-string">&#x27;r&#x27;</span>=&gt;<span class="hljs-variable">$r</span>]);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 数组重构</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">arr</span>(<span class="hljs-params"><span class="hljs-variable">$r</span></span>)</span>&#123;<br><br>        <span class="hljs-keyword">foreach</span>(<span class="hljs-variable">$r</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$k</span>=&gt;<span class="hljs-variable">$s</span>)&#123;<br><br>            <span class="hljs-variable">$n</span> = <span class="hljs-title function_ invoke__">model</span>(<span class="hljs-string">&#x27;Cate&#x27;</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">&#x27;cate_pid&#x27;</span>,<span class="hljs-variable">$s</span>[<span class="hljs-string">&#x27;cate_id&#x27;</span>])-&gt;<span class="hljs-title function_ invoke__">count</span>(<span class="hljs-string">&#x27;cate_pid&#x27;</span>);<br>            <span class="hljs-variable">$ru</span>[<span class="hljs-variable">$k</span>][<span class="hljs-string">&#x27;cate_name&#x27;</span>] = <span class="hljs-variable">$s</span>[<span class="hljs-string">&#x27;cate_name&#x27;</span>];<br>            <span class="hljs-variable">$ru</span>[<span class="hljs-variable">$k</span>][<span class="hljs-string">&#x27;cate_id&#x27;</span>] = <span class="hljs-variable">$s</span>[<span class="hljs-string">&#x27;cate_id&#x27;</span>];<br>            <span class="hljs-variable">$ru</span>[<span class="hljs-variable">$k</span>][<span class="hljs-string">&#x27;cate_pid&#x27;</span>] = <span class="hljs-variable">$s</span>[<span class="hljs-string">&#x27;cate_pid&#x27;</span>];<br>            <span class="hljs-variable">$ru</span>[<span class="hljs-variable">$k</span>][<span class="hljs-string">&#x27;cate_sort&#x27;</span>] = <span class="hljs-variable">$s</span>[<span class="hljs-string">&#x27;cate_sort&#x27;</span>];<br>            <span class="hljs-variable">$ru</span>[<span class="hljs-variable">$k</span>][<span class="hljs-string">&#x27;num&#x27;</span>] = <span class="hljs-variable">$n</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable">$ru</span>;<br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>tinkphp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9分页page样式代码详解</title>
    <link href="/14.html"/>
    <url>/14.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// 总页码数</span><br><span class="hljs-comment">// $multipage .= &#x27;&lt;a class=&quot;a1&quot;&gt;&#x27;.$num.L(&#x27;page_item&#x27;).&#x27;&lt;/a&gt;&#x27;;</span><br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$curr_page</span>&gt;<span class="hljs-number">0</span>) &#123;<br><span class="hljs-comment">// 上一页默认样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-variable">$curr_page</span>-<span class="hljs-number">1</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot;&gt;&amp;laquo; Previous&lt;/a&gt;&lt;/li&gt;&#x27;</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$curr_page</span>==<span class="hljs-number">1</span>) &#123;<br><span class="hljs-comment">// 第一页激活样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li class=&quot;current&quot;&gt;&lt;span&gt;1&lt;/span&gt;&lt;/li&gt;&#x27;</span>;<br>&#125; <span class="hljs-keyword">elseif</span>(<span class="hljs-variable">$curr_page</span>&gt;<span class="hljs-number">6</span> &amp;&amp; <span class="hljs-variable">$more</span>) &#123;<br><span class="hljs-comment">// 多页 第一页默认样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-number">1</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot;&gt;1&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-string">&lt;li class=&quot;disabled&quot;&gt;&lt;span&gt;...&lt;/span&gt;&lt;/li&gt;&#x27;</span>;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-comment">// 第一页默认样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-number">1</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot;&gt;1&lt;/a&gt;&lt;/li&gt;&#x27;</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-variable">$i</span> = <span class="hljs-variable">$from</span>; <span class="hljs-variable">$i</span> &lt;= <span class="hljs-variable">$to</span>; <span class="hljs-variable">$i</span>++) &#123;<br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$i</span> != <span class="hljs-variable">$curr_page</span>) &#123;<br><span class="hljs-comment">// 多页 页码默认样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-variable">$i</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>.<span class="hljs-variable">$i</span>.<span class="hljs-string">&#x27;&lt;/a&gt;&lt;/li&gt;&#x27;</span>;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-comment">// 多页 当前页码激活样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li class=&quot;current&quot;&gt;&lt;span&gt;&#x27;</span>.<span class="hljs-variable">$i</span>.<span class="hljs-string">&#x27;&lt;/span&gt;&lt;/li&gt;&#x27;</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$curr_page</span>&lt;<span class="hljs-variable">$pages</span>) &#123;<br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$curr_page</span>&lt;<span class="hljs-variable">$pages</span>-<span class="hljs-number">5</span> &amp;&amp; <span class="hljs-variable">$more</span>) &#123;<br><span class="hljs-comment">// 多页 最后一页默认样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27;&lt;li class=&quot;disabled&quot;&gt;&lt;span&gt;...&lt;/span&gt;&lt;/li&gt;</span><br><span class="hljs-string">&lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-variable">$pages</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>.<span class="hljs-variable">$pages</span>.<span class="hljs-string">&#x27;&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-string">&lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-variable">$curr_page</span>+<span class="hljs-number">1</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot; rel=&quot;next&quot; &gt;Next &amp;raquo;&lt;/a&gt;&lt;/li&gt;&#x27;</span>;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-comment">// 最后一页默认样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-variable">$pages</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>.<span class="hljs-variable">$pages</span>.<span class="hljs-string">&#x27;&lt;/a&gt;&lt;/li&gt; </span><br><span class="hljs-string">&lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-variable">$curr_page</span>+<span class="hljs-number">1</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot; rel=&quot;next&quot;&gt;Next &amp;raquo;&lt;/a&gt;&lt;/li&gt;&#x27;</span>;<br>&#125;<br>&#125; <span class="hljs-keyword">elseif</span>(<span class="hljs-variable">$curr_page</span>==<span class="hljs-variable">$pages</span>) &#123;<br><span class="hljs-comment">// 最后一页激活样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li class=&quot;current&quot;&gt;&lt;span&gt;&#x27;</span>.<span class="hljs-variable">$pages</span>.<span class="hljs-string">&#x27;&lt;/span&gt;&lt;/li&gt; &lt;li class=&quot;disabled&quot;&gt;&lt;span&gt;Next &amp;raquo;&lt;/span&gt;&lt;/li&gt;&#x27;</span>;<br><span class="hljs-comment">// $multipage .= &#x27; &lt;li class=&quot;current&quot;&gt;&lt;span&gt;&#x27;.$pages.&#x27;&lt;/span&gt;&lt;/li&gt; &lt;a href=&quot;&#x27;.pageurl($urlrule, $curr_page, $array).&#x27;&quot; class=&quot;disabled&quot;&gt;&#x27;.L(&#x27;Next&#x27;).&#x27;&lt;/a&gt;&#x27;;</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-comment">// 低页码 最后一页、下一页默认样式</span><br><span class="hljs-variable">$multipage</span> .= <span class="hljs-string">&#x27; &lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-variable">$pages</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>.<span class="hljs-variable">$pages</span>.<span class="hljs-string">&#x27;&lt;/a&gt;&lt;/li&gt; </span><br><span class="hljs-string">&lt;li&gt;&lt;a href=&quot;&#x27;</span>.<span class="hljs-title function_ invoke__">pageurl</span>(<span class="hljs-variable">$urlrule</span>, <span class="hljs-variable">$curr_page</span>+<span class="hljs-number">1</span>, <span class="hljs-variable">$array</span>).<span class="hljs-string">&#x27;&quot; rel=&quot;next&quot; &gt;Next &amp;raquo;&lt;/a&gt;&lt;/li&gt;&#x27;</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-variable">$multipage</span>;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9公共头部head标签代码示例</title>
    <link href="/13.html"/>
    <url>/13.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><h2 id="公共头、尾页调用"><a href="#公共头、尾页调用" class="headerlink" title="公共头、尾页调用"></a>公共头、尾页调用</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&#123;template <span class="hljs-string">&quot;content&quot;</span>,<span class="hljs-string">&quot;head&quot;</span>&#125;<br></code></pre></td></tr></table></figure><h2 id="样式文件调用路径"><a href="#样式文件调用路径" class="headerlink" title="样式文件调用路径"></a>样式文件调用路径</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">/statics/en/css/css.css<br></code></pre></td></tr></table></figure><h2 id="头部title调用"><a href="#头部title调用" class="headerlink" title="头部title调用"></a>头部title调用</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;title&gt;&#123;<span class="hljs-keyword">if</span> <span class="hljs-keyword">isset</span>(<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>]) &amp;&amp; !<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>])&#125;&#123;<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>]&#125;&#123;/<span class="hljs-keyword">if</span>&#125;&#123;<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;site_title&#x27;</span>]&#125;&lt;/title&gt;<br></code></pre></td></tr></table></figure><p>单页面头部title调用</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;title&gt;&#123;<span class="hljs-keyword">if</span> <span class="hljs-variable">$top_parentid</span> || <span class="hljs-variable">$catid</span>==<span class="hljs-variable">$r</span>[catid] || <span class="hljs-variable">$top_parentid</span>==<span class="hljs-variable">$r</span>[catid]&#125;&#123;<span class="hljs-variable">$catname</span>&#125;_&#123;/<span class="hljs-keyword">if</span>&#125;&#123;<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;site_title&#x27;</span>]&#125;&lt;/title&gt;<br></code></pre></td></tr></table></figure><h2 id="关键词、描述"><a href="#关键词、描述" class="headerlink" title="关键词、描述"></a>关键词、描述</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;meta name=<span class="hljs-string">&quot;keywords&quot;</span> content=<span class="hljs-string">&quot;<span class="hljs-subst">&#123;$SEO[&#x27;keyword&#x27;]&#125;</span>&quot;</span>&gt;<br>&lt;meta name=<span class="hljs-string">&quot;description&quot;</span> content=<span class="hljs-string">&quot;<span class="hljs-subst">&#123;$SEO[&#x27;description&#x27;]&#125;</span>&quot;</span>&gt;<br></code></pre></td></tr></table></figure><h2 id="导航"><a href="#导航" class="headerlink" title="导航"></a>导航</h2><p>指定栏目id，调取栏目名、栏目url</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;a href=<span class="hljs-string">&quot;<span class="hljs-subst">&#123;$CATEGORYS[20][&#x27;url&#x27;]&#125;</span>&quot;</span> title=<span class="hljs-string">&quot;<span class="hljs-subst">&#123;$CATEGORYS[20][&#x27;catname&#x27;]&#125;</span>_&#123;if isset(<span class="hljs-subst">$SEO</span>[&#x27;title&#x27;]) &amp;&amp; !empty(<span class="hljs-subst">$SEO</span>[&#x27;title&#x27;])&#125;<span class="hljs-subst">&#123;$SEO[&#x27;title&#x27;]&#125;</span>&#123;/if&#125;<span class="hljs-subst">&#123;$SEO[&#x27;site_title&#x27;]&#125;</span>&quot;</span>&gt;&#123;<span class="hljs-variable">$CATEGORYS</span>[<span class="hljs-number">20</span>][<span class="hljs-string">&#x27;catname&#x27;</span>]&#125;&lt;/a&gt;<br></code></pre></td></tr></table></figure><p>指定栏目id，调取子栏目列表</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs php">&#123;pc:content action=<span class="hljs-string">&quot;category&quot;</span> catid=<span class="hljs-string">&quot;6&quot;</span> num=<span class="hljs-string">&quot;25&quot;</span> siteid=<span class="hljs-string">&quot;<span class="hljs-subst">$siteid</span>&quot;</span> order=<span class="hljs-string">&quot;listorder ASC&quot;</span>&#125;<br>   &#123;loop <span class="hljs-variable">$data</span> <span class="hljs-variable">$r</span>&#125;<br>        &lt;li <span class="hljs-class"><span class="hljs-keyword">class</span>=&quot;<span class="hljs-title">mega</span>-<span class="hljs-title">item</span>&quot;&gt;</span><br><span class="hljs-class">            &lt;<span class="hljs-title">a</span> <span class="hljs-title">class</span>=&quot;<span class="hljs-title">mega</span>-<span class="hljs-title">item__link</span>&quot;</span><br><span class="hljs-class">                <span class="hljs-title">href</span>=&quot;</span>&#123;<span class="hljs-variable">$r</span>[url]&#125;<span class="hljs-string">&quot; title=&quot;</span>&#123;<span class="hljs-variable">$r</span>[catname]&#125;_&#123;<span class="hljs-keyword">if</span> <span class="hljs-keyword">isset</span>(<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>]) &amp;&amp; !<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>])&#125;&#123;<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>]&#125;&#123;/<span class="hljs-keyword">if</span>&#125;&#123;<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;site_title&#x27;</span>]&#125;<span class="hljs-string">&quot;&gt;</span><br><span class="hljs-string">                &lt;img class=&quot;</span>mega-item__image<span class="hljs-string">&quot;</span><br><span class="hljs-string">                    src=&quot;</span>/statics/en/images/nav_icon-medical.png<span class="hljs-string">&quot; alt=&quot;</span>&#123;<span class="hljs-variable">$r</span>[catname]&#125;_&#123;<span class="hljs-keyword">if</span> <span class="hljs-keyword">isset</span>(<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>]) &amp;&amp; !<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>])&#125;&#123;<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;title&#x27;</span>]&#125;&#123;/<span class="hljs-keyword">if</span>&#125;&#123;<span class="hljs-variable">$SEO</span>[<span class="hljs-string">&#x27;site_title&#x27;</span>]&#125;<span class="hljs-string">&quot;&gt;</span><br><span class="hljs-string">                &lt;span class=&quot;</span>mega-item__text<span class="hljs-string">&quot;&gt;</span><br><span class="hljs-string">                    <span class="hljs-subst">&#123;$r[catname]&#125;</span></span><br><span class="hljs-string">                &lt;/span&gt;</span><br><span class="hljs-string">            &lt;/a&gt;</span><br><span class="hljs-string">        &lt;/li&gt;</span><br><span class="hljs-string">    &#123;/loop&#125;</span><br><span class="hljs-string">&#123;/pc&#125;</span><br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9首页index标签代码示例</title>
    <link href="/12.html"/>
    <url>/12.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><h2 id="指定推荐位id（posid），调取选中该推荐位信息列表"><a href="#指定推荐位id（posid），调取选中该推荐位信息列表" class="headerlink" title="指定推荐位id（posid），调取选中该推荐位信息列表"></a>指定推荐位id（posid），调取选中该推荐位信息列表</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;pc:content  action=&quot;position&quot;  posid=&quot;2&quot;  order=&quot;id DESC&quot;  num=&quot;5&quot;&#125;<br>    &#123;loop $data $key $r&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tile&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$CATEGORYS[$r[catid]][&#x27;url&#x27;]&#125;&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125;_&#123;$CATEGORYS[$r[catid]][&#x27;catname&#x27;]&#125;&quot;</span> <span class="hljs-attr">data-scrollreveal</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tile__image&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&#123;$r[thumb]&#125;&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tile__footer&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;$CATEGORYS[$r[catid]][&#x27;catname&#x27;]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tile-overlay&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tile-overlay__header&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;$CATEGORYS[$r[catid]][&#x27;catname&#x27;]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tile-overlay__body&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 自定义字段截取调用 --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;str_cut($r[dxyy],170,&#x27;...&#x27;)&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tile-overlay__footer&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>View Products<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    &#123;/loop&#125;<br>&#123;/pc&#125;<br></code></pre></td></tr></table></figure><h2 id="指定栏目id（catid），调取子栏目列表"><a href="#指定栏目id（catid），调取子栏目列表" class="headerlink" title="指定栏目id（catid），调取子栏目列表"></a>指定栏目id（catid），调取子栏目列表</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;pc:content action=&quot;category&quot; catid=&quot;23&quot; num=&quot;25&quot;  order=&quot;listorder ASC&quot;&#125;<br>    &#123;loop $data $r&#125;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;icon-card&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$r[url]&#125;&quot;</span>  <span class="hljs-attr">data-scrollreveal</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$r[catname]&#125;_&#123;if isset($SEO[&#x27;title&#x27;]) &amp;&amp; !empty($SEO[&#x27;title&#x27;])&#125;&#123;$SEO[&#x27;title&#x27;]&#125;&#123;/if&#125;&#123;$SEO[&#x27;site_title&#x27;]&#125;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;icon-card__image&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/statics/en/images/healthcare-green-icon.png&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;icon-card__image icon-card__image_alt&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/statics/en/images/healthcare-white_icon.png&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;icon-card__heading&quot;</span>&gt;</span><br>                &#123;$r[catname]&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    &#123;/loop&#125;<br>&#123;/pc&#125;<br></code></pre></td></tr></table></figure><h2 id="指定栏目id（catid），调取子栏目下所有信息（文章模型）"><a href="#指定栏目id（catid），调取子栏目下所有信息（文章模型）" class="headerlink" title="指定栏目id（catid），调取子栏目下所有信息（文章模型）"></a>指定栏目id（catid），调取子栏目下所有信息（文章模型）</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;pc:content action=&quot;lists&quot; catid=&quot;14&quot; order=&quot;id DESC&quot;  num=&quot;3&quot; &#125;<br>   &#123;loop $data $n $r&#125;<br>       <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cell small-12 medium-6 large-4&quot;</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic-card&quot;</span></span><br><span class="hljs-tag">               <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$r[&#x27;url&#x27;]&#125;&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$r[&#x27;title&#x27;]&#125;&quot;</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic-card__image&quot;</span></span><br><span class="hljs-tag">                   <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background-image: url(&#123;$r[thumb]&#125;)&quot;</span>&gt;</span><br>               <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">h6</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic-card__heading&quot;</span>&gt;</span>&#123;$r[&#x27;title&#x27;]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h6</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;basic-card__excerpt&quot;</span>&gt;</span>&#123;$r[&#x27;description&#x27;]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   &#123;/loop&#125;<br>&#123;/pc&#125;<br></code></pre></td></tr></table></figure><h2 id="判断是否为首页"><a href="#判断是否为首页" class="headerlink" title="判断是否为首页"></a>判断是否为首页</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;if !$catid&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>首页<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>&#123;else&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>&#123;if isset($SEO[&#x27;title&#x27;]) &amp;&amp; !empty($SEO[&#x27;title&#x27;])&#125;&#123;$SEO[&#x27;title&#x27;]&#125;&#123;/if&#125;&#123;$SEO[&#x27;site_title&#x27;]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>&#123;/if&#125;<br></code></pre></td></tr></table></figure><h2 id="调用指定ID文章内容"><a href="#调用指定ID文章内容" class="headerlink" title="调用指定ID文章内容"></a>调用指定ID文章内容</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;pc:get sql=&quot;SELECT content FROM tsm_news_data where id=83 &quot; return=&quot;data&quot;&#125;<br>&#123;php $l = explode(&#x27;,&#x27;,$data[0][&#x27;content&#x27;]);&#125;<br>    &#123;loop $l $i&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cell small-12 medium-2&quot;</span> <span class="hljs-attr">data-scrollreveal</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: block; margin-left: auto; margin-right: auto;&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;technology green icon&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/statics/en/images/client/&#123;$i&#125;.jpg&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Typical customers&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;303&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;149&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    &#123;/loop&#125;<br>&#123;/pc&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9列表页list标签代码示例</title>
    <link href="/11.html"/>
    <url>/11.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><h2 id="调取栏目名称"><a href="#调取栏目名称" class="headerlink" title="调取栏目名称"></a>调取栏目名称</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;$CATEGORYS[$catid][&#x27;catname&#x27;]&#125;<br></code></pre></td></tr></table></figure><h2 id="调取栏目下信息列表-moreinfo-”1”-允许调取副表、自定义字段内容"><a href="#调取栏目下信息列表-moreinfo-”1”-允许调取副表、自定义字段内容" class="headerlink" title="调取栏目下信息列表( moreinfo&#x3D;”1” 允许调取副表、自定义字段内容)"></a>调取栏目下信息列表( moreinfo&#x3D;”1” 允许调取副表、自定义字段内容)</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;pc:content action=&quot;lists&quot; catid=&quot;$catid&quot; num=&quot;9&quot; moreinfo=&quot;1&quot; order=&quot;id DESC&quot; page=&quot;$page&quot;&#125;<br>        &#123;loop $data $r&#125;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-card&quot;</span> <span class="hljs-attr">data-scrollreveal</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$r[url]&#125;&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125; &#123;$CATEGORYS[$catid][&#x27;catname&#x27;]&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-card__image&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&#123;$r[thumb]&#125;&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125; &#123;$CATEGORYS[$catid][&#x27;catname&#x27;]&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$r[url]&#125;&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125; &#123;$CATEGORYS[$catid][&#x27;catname&#x27;]&#125;&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: #222422;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-card__title&quot;</span>&gt;</span>&#123;$r[title]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-card__text&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;$r[&#x27;dxyy&#x27;]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-card__buttons&quot;</span>&gt;</span><br>                &#123;if $r[&#x27;file&#x27;] &#125;<br>                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$r[&#x27;file&#x27;]&#125;&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125; &#123;$CATEGORYS[$catid][&#x27;catname&#x27;]&#125; PDF&quot;</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button button--small button--outline button--outline-black&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span> &gt;</span>Download<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>                &#123;/if&#125;<br>                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$r[url]&#125;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button button--small button--outline&quot;</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125; &#123;$CATEGORYS[$catid][&#x27;catname&#x27;]&#125;&quot;</span>&gt;</span>View Product<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        &#123;/loop&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;search-pagination styled-pagination&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pagination&quot;</span>&gt;</span><br>        &#123;$pages&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>&#123;/pc&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9内容页show标签代码示例</title>
    <link href="/10.html"/>
    <url>/10.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><h2 id="内容页-当前位置"><a href="#内容页-当前位置" class="headerlink" title="内容页 - 当前位置"></a>内容页 - 当前位置</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;catpos_show_product($catid)&#125;<br></code></pre></td></tr></table></figure><h2 id="缩略图"><a href="#缩略图" class="headerlink" title="缩略图"></a>缩略图</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;$thumb&#125;<br></code></pre></td></tr></table></figure><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;$title&#125;<br></code></pre></td></tr></table></figure><h2 id="关键词，循环输出"><a href="#关键词，循环输出" class="headerlink" title="关键词，循环输出"></a>关键词，循环输出</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;loop $keywords $keyword&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span><br>    &#123;$keyword&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span> <br>&#123;/loop&#125;<br></code></pre></td></tr></table></figure><h2 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;$content&#125;<br></code></pre></td></tr></table></figure><h2 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;if $file&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$file&#125;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mr-4 button&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$title&#125; &#123;$CATEGORYS[$catid][&#x27;catname&#x27;]&#125; PDF&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span><br>    datasheet<br><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>&#123;/if&#125;<br></code></pre></td></tr></table></figure><h2 id="自定义字段，“，”分割，循环输出"><a href="#自定义字段，“，”分割，循环输出" class="headerlink" title="自定义字段，“，”分割，循环输出"></a>自定义字段，“，”分割，循环输出</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;php $cptds = explode(&#x27;,&#x27;,$cptd);&#125;<br>&#123;loop $cptds $td&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>&#123;$td&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>&#123;/loop&#125;<br></code></pre></td></tr></table></figure><h2 id="样式结构复杂，根据标记分组循环输出"><a href="#样式结构复杂，根据标记分组循环输出" class="headerlink" title="样式结构复杂，根据标记分组循环输出"></a>样式结构复杂，根据标记分组循环输出</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">   a:111</span><br><span class="hljs-comment">   b:222</span><br><span class="hljs-comment">   *</span><br><span class="hljs-comment">   c:111</span><br><span class="hljs-comment">   d:222</span><br><span class="hljs-comment">--&gt;</span><br>&#123;php $cell_list = explode(&#x27;*&#x27;,$ggsm);&#125;<br>&#123;loop $cell_list $cell&#125;<br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cell medium-6&quot;</span>&gt;</span><br>       &#123;php $spec_list = explode(&#x27;<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>&#x27;,$cell);&#125;<br>       &#123;loop $spec_list $spec&#125;<br>           &#123;php $p_list = explode(&#x27;:&#x27;,$spec);&#125;<br>           <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;spec&quot;</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mb-0&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>&#123;$p_list[0]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;$p_list[1]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>       &#123;/loop&#125;<br>   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>&#123;/loop&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9搜索search标签修改代码示例</title>
    <link href="/9.html"/>
    <url>/9.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><h2 id="搜索入口样式（form）"><a href="#搜索入口样式（form）" class="headerlink" title="搜索入口样式（form）"></a>搜索入口样式（form）</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;search-form&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&#123;APP_PATH&#125;index.php&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;GET&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;m&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;search&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-field placeholder-dark-grey&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;q&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;search&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;Search for a product series or part no.&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-button&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button dark&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Search&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="搜索页-title"><a href="#搜索页-title" class="headerlink" title="搜索页 title"></a>搜索页 title</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>&#123;if empty($q)&#125;搜索&#123;/if&#125;&#123;$search_q&#125;&#123;if !empty($q)&#125;-&#123;/if&#125;&#123;$page&#125;_&#123;if isset($SEO[&#x27;title&#x27;]) &amp;&amp; !empty($SEO[&#x27;title&#x27;])&#125;&#123;$SEO[&#x27;title&#x27;]&#125;&#123;/if&#125;&#123;$SEO[&#x27;site_title&#x27;]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="调取栏目名、栏目url"><a href="#调取栏目名、栏目url" class="headerlink" title="调取栏目名、栏目url"></a>调取栏目名、栏目url</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;php $SITE = getcache(&#x27;category_content_1&#x27;,&#x27;commons&#x27;);&#125;<br>&#123;$SITE[6][catname]&#125;<br>&#123;$SITE[20][&#x27;url&#x27;]&#125;<br></code></pre></td></tr></table></figure><h2 id="多表自定义条件搜索"><a href="#多表自定义条件搜索" class="headerlink" title="多表自定义条件搜索"></a>多表自定义条件搜索</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;pc:get sql=&quot;SELECT  title,url,thumb,cptd FROM `tsm_product` AS p JOIN `tsm_product_data` AS d ON  p.`id` = d.`id`<br>   WHERE p.`title` LIKE &#x27;%$q%&#x27; OR p.`description` LIKE &#x27;%$q%&#x27; OR p.`keywords` LIKE &#x27;%$q%&#x27; OR d.`content` LIKE &#x27;%$q%&#x27; OR <br>   d.`cptd` LIKE &#x27;%$q%&#x27; OR d.`dxyy` LIKE &#x27;%$q%&#x27; OR d.`ggsm` LIKE &#x27;%$q%&#x27; order by p.id DESC &quot; num=&quot;8&quot; page=&quot;$page&quot; return=&quot;data&quot;&#125;<br>&#123;loop $data $r&#125;<br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;$r[url]&#125;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-series-card&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125;&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-series-card__image&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&#123;$r[thumb]&#125;&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&#123;$r[title]&#125;&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-series-card__heading&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-series-card__title&quot;</span>&gt;</span>&#123;$r[title]&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-series-card__list&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>              &#123;php $cptds = explode(&#x27;,&#x27;,$r[cptd]);&#125;<br>              &#123;loop $cptds $td&#125;<br>                  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>&#123;$td&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>              &#123;/loop&#125;<br>          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;product-series-card__cta&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button product-series-card__button&quot;</span>&gt;</span>More info<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>&#123;/loop&#125;<br>&#123;/pc&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;search-pagination styled-pagination&quot;</span>&gt;</span><br>   &#123;if !empty($q)&#125;<br>   <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pagination&quot;</span>&gt;</span><br>       &#123;$pages&#125;<br>   <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>   &#123;/if&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="多表多条件自定义搜索（空格分割）"><a href="#多表多条件自定义搜索（空格分割）" class="headerlink" title="多表多条件自定义搜索（空格分割）"></a>多表多条件自定义搜索（空格分割）</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"> &#123;<span class="hljs-keyword">if</span> !<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$q</span>)&#125;<br>    &#123;php <span class="hljs-variable">$q</span> = <span class="hljs-title function_ invoke__">str_replace</span>(<span class="hljs-string">&#x27; &#x27;</span>,<span class="hljs-string">&#x27;|&#x27;</span>,<span class="hljs-variable">$q</span>)&#125;<br>&#123;pc:get sql=<span class="hljs-string">&quot;SELECT  title,url,thumb,cptd FROM `tsm_product` AS p JOIN `tsm_product_data` AS d ON  p.`id` = d.`id`</span><br><span class="hljs-string">WHERE p.`title` REGEXP &#x27;<span class="hljs-subst">$q</span>&#x27; OR p.`description` REGEXP &#x27;<span class="hljs-subst">$q</span>&#x27; OR p.`keywords` REGEXP &#x27;<span class="hljs-subst">$q</span>&#x27; OR d.`content` REGEXP &#x27;<span class="hljs-subst">$q</span>&#x27; OR d.`cptd` REGEXP &#x27;<span class="hljs-subst">$q</span>&#x27; OR d.`dxyy` REGEXP &#x27;<span class="hljs-subst">$q</span>&#x27; </span><br><span class="hljs-string">OR d.`ggsm` REGEXP &#x27;<span class="hljs-subst">$q</span>&#x27; order by p.id DESC &quot;</span> num=<span class="hljs-string">&quot;8&quot;</span> page=<span class="hljs-string">&quot;<span class="hljs-subst">$page</span>&quot;</span> <span class="hljs-keyword">return</span>=<span class="hljs-string">&quot;data&quot;</span>&#125;<br>&#123;/<span class="hljs-keyword">if</span>&#125;<br></code></pre></td></tr></table></figure><h2 id="搜索无结果，随机输出"><a href="#搜索无结果，随机输出" class="headerlink" title="搜索无结果，随机输出"></a>搜索无结果，随机输出</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php">&#123;<span class="hljs-keyword">if</span> <span class="hljs-keyword">empty</span>(<span class="hljs-variable">$data</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">empty</span>(<span class="hljs-variable">$q</span>)&#125;<br>   &#123;pc:get sql=<span class="hljs-string">&quot;SELECT  title,url,thumb,cptd FROM `tsm_product` AS p JOIN `tsm_product_data` AS d ON  p.`id` = d.`id`</span><br><span class="hljs-string">   where p.id BETWEEN 1 AND 100 ORDER BY RAND()  &quot;</span> num=<span class="hljs-string">&quot;8&quot;</span>  <span class="hljs-keyword">return</span>=<span class="hljs-string">&quot;data&quot;</span>&#125;<br>&#123;/<span class="hljs-keyword">if</span>&#125;<br></code></pre></td></tr></table></figure><h2 id="搜索、列表分页伪静态"><a href="#搜索、列表分页伪静态" class="headerlink" title="搜索、列表分页伪静态"></a>搜索、列表分页伪静态</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;m&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;search&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-field placeholder-dark-grey&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;q&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sn&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;search&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;搜索产品型号或参数&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-button&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button dark&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;搜索&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;<br>    $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123; <br>        $(<span class="hljs-string">&#x27;input.button&#x27;</span>).<span class="hljs-title function_">click</span>( <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">var</span> search = $(<span class="hljs-string">&#x27;input.input-group-field&#x27;</span>).<span class="hljs-title function_">val</span>();<br>            <span class="hljs-keyword">if</span> (search ==<span class="hljs-string">&quot;&quot;</span>)&#123;<br>                    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> =<span class="hljs-string">&quot;&#123;APP_PATH&#125;search&quot;</span>; <br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> =<span class="hljs-string">&quot;&#123;APP_PATH&#125;search/&quot;</span> + search + <span class="hljs-string">&#x27;/1&#x27;</span>; <br>            &#125;<br>        &#125;);<br><br>        $(<span class="hljs-string">&quot;#sn&quot;</span>).<span class="hljs-title function_">bind</span>(<span class="hljs-string">&quot;keydown&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<br>            <span class="hljs-keyword">var</span> theEvent = e || <span class="hljs-variable language_">window</span>.<span class="hljs-property">event</span>;<br>            <span class="hljs-keyword">var</span> code = theEvent.<span class="hljs-property">keyCode</span> || theEvent.<span class="hljs-property">which</span> || theEvent.<span class="hljs-property">charCode</span>;<br>            <span class="hljs-keyword">if</span> (code == <span class="hljs-number">13</span>) &#123;<br>                <span class="hljs-keyword">var</span> search = $(<span class="hljs-string">&#x27;input.input-group-field&#x27;</span>).<span class="hljs-title function_">val</span>();<br>                <span class="hljs-keyword">if</span> (search ==<span class="hljs-string">&quot;&quot;</span>)&#123;<br>                    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> =<span class="hljs-string">&quot;&#123;APP_PATH&#125;search&quot;</span>; <br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> =<span class="hljs-string">&quot;&#123;APP_PATH&#125;search/&quot;</span> + search + <span class="hljs-string">&#x27;/1&#x27;</span>; <br>                &#125;<br>            &#125;<br>        &#125;);<br>    &#125;);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">RewriteRule ^(.*)search/(.*)/(.*)$ $<span class="hljs-number">1</span>/index\.php\?m=search&amp;q=$<span class="hljs-number">2</span>&amp;page=$<span class="hljs-number">3</span><br>RewriteRule ^(.*)search$ $<span class="hljs-number">1</span>/index\.php\?m=search<br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"> &#123;if !empty($q)&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pagination&quot;</span>&gt;</span><br>   &#123;php $pages = str_replace(&quot;$page?page=&quot;,&quot;&quot;,$pages)&#125;<br>   &#123;$pages&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>&#123;/if&#125;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9后台登陆url地址安全性变更代码示例</title>
    <link href="/8.html"/>
    <url>/8.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><h2 id="第一步："><a href="#第一步：" class="headerlink" title="第一步："></a>第一步：</h2><p>在网站根目录创建一个文件夹，以后就要通过这个文件夹进入后台登录界面的，所以文件夹名就要取一个不易被人轻易猜到的名称。这里作为演示，我就取为  adminweb 好了。接着，在这个文件夹里新建一个文件index.php，内容为：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">define</span>(<span class="hljs-string">&#x27;PHPCMS_PATH&#x27;</span>, <span class="hljs-title function_ invoke__">realpath</span>(<span class="hljs-title function_ invoke__">dirname</span>(<span class="hljs-keyword">__FILE__</span>) . <span class="hljs-string">&#x27;/..&#x27;</span>) . <span class="hljs-string">&#x27;/&#x27;</span>);<br><span class="hljs-keyword">include</span> PHPCMS_PATH . <span class="hljs-string">&#x27;/phpcms/base.php&#x27;</span>; <span class="hljs-comment">// pc_base::creat_app();</span><br><span class="hljs-variable">$session_storage</span> = <span class="hljs-string">&#x27;session_&#x27;</span> . pc_base :: <span class="hljs-title function_ invoke__">load_config</span>(<span class="hljs-string">&#x27;system&#x27;</span>, <span class="hljs-string">&#x27;session_storage&#x27;</span>);<br>pc_base :: <span class="hljs-title function_ invoke__">load_sys_class</span>(<span class="hljs-variable">$session_storage</span>);<br><span class="hljs-title function_ invoke__">session_start</span>();<br><span class="hljs-variable">$_SESSION</span>[<span class="hljs-string">&#x27;right_enter&#x27;</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">unset</span>(<span class="hljs-variable">$session_storage</span>);<br><span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&#x27;location:../index.php?m=admin&#x27;</span>);<br></code></pre></td></tr></table></figure><h2 id="第二步："><a href="#第二步：" class="headerlink" title="第二步："></a>第二步：</h2><p>在 phpcms&#x2F;modules&#x2F;admin&#x2F; 文件夹里新建一个文件 MY_index.php，内容为：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">defined</span>(<span class="hljs-string">&#x27;IN_PHPCMS&#x27;</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">exit</span>(<span class="hljs-string">&#x27;No permission resources.&#x27;</span>);<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MY_index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">index</span> </span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>) </span>&#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$_SESSION</span>[<span class="hljs-string">&#x27;right_enter&#x27;</span>])) &#123;<br><span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&#x27;location:./&#x27;</span>);<br><span class="hljs-keyword">exit</span>;<br>&#125;<br><span class="hljs-built_in">parent</span> :: <span class="hljs-title function_ invoke__">__construct</span>();<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">public_logout</span>(<span class="hljs-params"></span>) </span>&#123;<br><span class="hljs-variable">$_SESSION</span>[<span class="hljs-string">&#x27;right_enter&#x27;</span>] = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">parent</span> :: <span class="hljs-title function_ invoke__">public_logout</span>();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>这样修改，只需要两个地方就可以了，不用分那么多步骤，而且网站后台只能通过 &#x2F;adminweb，这样就不容易被人找到你的后台入口了，这里需要注意的是，如果你用&#x2F;adminweb登录后，你按原来的&#x2F;admin.php  这种方式也能登录了，当然仅限你刚登录的浏览器。</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms V9留言表单标签代码示例</title>
    <link href="/7.html"/>
    <url>/7.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><p><img src="/./7/53ae33199182479a993651cb247428fd.png"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/index.php?m=formguide<span class="hljs-symbol">&amp;amp;</span>c=index<span class="hljs-symbol">&amp;amp;</span>a=show<span class="hljs-symbol">&amp;amp;</span>formid=13<span class="hljs-symbol">&amp;amp;</span>siteid=1&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;myform&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myform&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-field  last_name pd-text required &quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;field-label&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size: 18px; font-weight: bold;&quot;</span>&gt;</span>姓名：<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;info[name]&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;80&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-text&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background-color: #eff4fd;border: 0px;height: 30px;&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;必填&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-field  last_name pd-text required     &quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;field-label&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size: 18px; font-weight: bold;&quot;</span>&gt;</span>电话：<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;info[phone]&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;phone&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;80&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-text&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background-color: #eff4fd;border: 0px;height: 30px;&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;必填&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-field  last_name pd-text required     &quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;field-label&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size: 18px; font-weight: bold;&quot;</span>&gt;</span>留言：<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;info[msg]&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;msg&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height: 100px;background-color: #eff4fd;border: 0px;&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;选填&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;submit two-column-submit text-center&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size: 20px;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dosubmit&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dosubmit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提交留言&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;padding: 5px 20px; color: #35308F;background-color: #fff; font-size: 16px;border-color: #35308F;&quot;</span> &gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Apache与Nginx伪静态规则对比</title>
    <link href="/6.html"/>
    <url>/6.html</url>
    
    <content type="html"><![CDATA[<p>Apache(音译为阿帕奇)是世界使用排名第一的Web服务器软件。它可以运行在几乎所有广泛使用的计算机平台上，由于其跨平台和安全性被广泛使用，是最流行的Web服务器端软件之一。它快速、可靠并且可通过简单的API扩充，将Perl&#x2F;Python等解释器编译到服务器中。</p><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Apache</span><br>RewriteRule ^(.*)show-([0-9]+)-([0-9]+)-([0-9]+).html$ <span class="hljs-variable">$1</span>/index\.php\?m=content&amp;c=index&amp;a=show&amp;catid=<span class="hljs-variable">$2</span>&amp;<span class="hljs-built_in">id</span>=<span class="hljs-variable">$3</span>&amp;page=<span class="hljs-variable">$4</span><br>RewriteRule ^(.*)list-([0-9]+)-([0-9]+).html$ <span class="hljs-variable">$1</span>/index\.php\?m=content&amp;c=index&amp;a=lists&amp;catid=<span class="hljs-variable">$2</span>&amp;page=<span class="hljs-variable">$3</span><br>RewriteRule ^(.*)search/(.*)/(.*)$ <span class="hljs-variable">$1</span>/index\.php\?m=search&amp;q=<span class="hljs-variable">$2</span>&amp;page=<span class="hljs-variable">$3</span><br>RewriteRule ^(.*)search$ <span class="hljs-variable">$1</span>/index\.php\?m=search<br><span class="hljs-comment"># Nginx</span><br>rewrite ^/list-([0-9]+)-([0-9]+).html$  /index.php?m=content&amp;c=index&amp;a=lists&amp;catid=<span class="hljs-variable">$1</span>&amp;page=<span class="hljs-variable">$2</span> last;<br>rewrite ^/show-([0-9]+)-([0-9]+)-([0-9]+).html$  /index.php?m=content&amp;c=index&amp;a=show&amp;catid=<span class="hljs-variable">$1</span>&amp;<span class="hljs-built_in">id</span>=<span class="hljs-variable">$2</span>&amp;page=<span class="hljs-variable">$3</span> last;<br>rewrite ^/search/(.*)/(.*)$  /index.php?m=search&amp;q=<span class="hljs-variable">$1</span>&amp;page=<span class="hljs-variable">$2</span> last;<br>rewrite ^/search$ /index.php?m=search last;<br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Apache</tag>
      
      <tag>Nginx</tag>
      
      <tag>伪静态</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms H5上传插件代码下载</title>
    <link href="/5.html"/>
    <url>/5.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><p>phpcms H5上传插件<br>覆盖替换即可</p><h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址:"></a>下载地址:</h2><p>链接：<a href="https://qq3559727.lanzoul.com/i8z6d0cdubxa">蓝奏云</a></p><p>phpcms仓库，有惊喜！<br><a href="https://gitee.com/phpcms/phpcms">https://gitee.com/phpcms/phpcms</a></p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>php 判断移动端代码示例</title>
    <link href="/4.html"/>
    <url>/4.html</url>
    
    <content type="html"><![CDATA[<p>PHP，全称 Hypertext Preprocessor ，中文翻译“超文本预处理器”。 在PHP的官网是这样介绍PHP的： PHP内核由C开发，因此在语法上跟C有不少相似之处。但PHP绝对不是C。 PHP语法除了跟C有相似之处外，还跟Java、Perl比较流行的编程语言存在相似的地方。因此，如果你有上述语言基础，PHP入门会更加快速。</p><span id="more"></span><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is_Mobile</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_VIA&#x27;</span>]) &amp;&amp; <span class="hljs-title function_ invoke__">stristr</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_VIA&#x27;</span>], <span class="hljs-string">&quot;wap&quot;</span>)) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125; <span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_ACCEPT&#x27;</span>]) &amp;&amp; <span class="hljs-title function_ invoke__">strpos</span>(<span class="hljs-title function_ invoke__">strtoupper</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_ACCEPT&#x27;</span>]), <span class="hljs-string">&quot;VND.WAP.WML&quot;</span>)) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125; <span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_X_WAP_PROFILE&#x27;</span>]) || <span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_PROFILE&#x27;</span>])) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125; <span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_USER_AGENT&#x27;</span>]) &amp;&amp; <span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">&#x27;/(blackberry|configuration\/cldc|hp |hp-|htc |htc_|htc-|iemobile|kindle|midp|mmp|motorola|mobile|nokia|opera mini|opera |Googlebot-Mobile|YahooSeeker\/M1A1-R2D2|android|iphone|ipod|mobi|palm|palmos|pocket|portalmmm|ppc;|smartphone|sonyericsson|sqh|spv|symbian|treo|up.browser|up.link|vodafone|windows ce|xda |xda_)/i&#x27;</span>,<span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;HTTP_USER_AGENT&#x27;</span>])) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">is_Mobile</span>()) &#123;<br>    <span class="hljs-variable">$banner</span> = <span class="hljs-variable">$wbanner</span>;<br> &#125;         <br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>php</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpcms v9自定义表单提交后返回上一页代码修改方法</title>
    <link href="/3.html"/>
    <url>/3.html</url>
    
    <content type="html"><![CDATA[<p>PHPCMS V9是一个基于PHP5+MYSQL的开源内容管理系统，采用OOP（面向对象）方式设计，模块化开发，支持站群系统，模板制作，多发布点等功能。</p><span id="more"></span><p>1、找到这个文件 phpcms\modules\formguide\index.php<br>2、找到如下代码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-title function_ invoke__">showmessage</span>(<span class="hljs-title function_ invoke__">L</span>(<span class="hljs-string">&#x27;thanks&#x27;</span>), APP_PATH);<br></code></pre></td></tr></table></figure><p>3、修改成如下代码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-title function_ invoke__">showmessage</span>(<span class="hljs-title function_ invoke__">L</span>(<span class="hljs-string">&#x27;thanks&#x27;</span>), HTTP_REFERER);<br></code></pre></td></tr></table></figure><p>HTTP_REFERER 是页面来源的意思，也就是从哪里来回哪里去~~<br>APP_PATH是网站动态域名，也就是首页。</p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>phpcms</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Golang学习笔记</title>
    <link href="/1.html"/>
    <url>/1.html</url>
    
    <content type="html"><![CDATA[<p>Golang是Google开发的一种开源编程语言，又称Go或Golang。它是一种静态类型、编译型、并发型的编程语言，于2009年发布。Golang的主要目标是提供一种简洁、快速、可靠的编程语言，同时支持并发编程和分布式计算。</p><span id="more"></span><h2 id="go基本目录结构"><a href="#go基本目录结构" class="headerlink" title="go基本目录结构"></a>go基本目录结构</h2><p><img src="/./1/80f776462cd8426594d0f902c00ff249.png"></p><h2 id="Hello-Golang"><a href="#Hello-Golang" class="headerlink" title="Hello Golang"></a>Hello Golang</h2><p><img src="/./1/6d4f73dcaf7e4ca19336403fce1a93c5.png"></p><h2 id="go-build-编译；go-run-编译并运行"><a href="#go-build-编译；go-run-编译并运行" class="headerlink" title="go build 编译；go run 编译并运行"></a>go build 编译；go run 编译并运行</h2><p><img src="/./1/73ad231d0f7e43439cb3130b0b7e9aaf.png" alt="代码所在目录&gt;go build test.go"><br><img src="/./1/03d1973487604d3990ba688cc3ed97bc.png"></p><h2 id="语法注意事项"><a href="#语法注意事项" class="headerlink" title="语法注意事项"></a>语法注意事项</h2><p><img src="/./1/b09626fc336e4244823fe3a97ee05032.png"></p><h2 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a>代码风格</h2><p><img src="/./1/4726cea0831f4929be26f2a90513c765.png"></p><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> age <span class="hljs-type">int</span> = <span class="hljs-number">12</span><span class="hljs-comment">// 定义变量</span><br>age = age + <span class="hljs-number">10</span><br>fmt.Println(<span class="hljs-string">&quot;age = &quot;</span>,age)<br>num := <span class="hljs-number">30.5</span><br>num = num + <span class="hljs-number">20</span><br>fmt.Println(<span class="hljs-string">&quot;num = &quot;</span>,num)<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/./1/d4cb1f42445e4bbeb30931ae5d8edb07.png"><br><img src="/./1/42f1a52ca0d84532b9919f9d4aeb0516.png"><br><img src="/./1/0380cad6361e4ce7894434bf4c82877e.png"></p><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p><img src="/./1/5428be91a5954b148980abe56db7c5b2.png"></p><h2 id="整数"><a href="#整数" class="headerlink" title="整数"></a>整数</h2><p><img src="/./1/8595e04475b649208deef5aba0ba307d.png"><br><img src="/./1/f7da2ee7e5924bb89a27d727cfa14c2a.png"><br><img src="/./1/26d892d59e22488b9d9debc759a3c30d.png"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;unsafe&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">12</span><br>fmt.Printf(<span class="hljs-string">&quot;a的数据类型： %T&quot;</span>, a) <span class="hljs-comment">// %T 返回数据类型</span><br>fmt.Println()<br>fmt.Println(unsafe.Sizeof(a)) <span class="hljs-comment">// 返回占用字节数</span><br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h2><p><img src="/./1/ec43cb854efa433bbe09ab76ad46dfea.png"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;unsafe&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> f1 <span class="hljs-type">float32</span> = <span class="hljs-number">256.000000059</span><br><span class="hljs-keyword">var</span> f2 <span class="hljs-type">float64</span> = <span class="hljs-number">256.000000059</span> <span class="hljs-comment">// 建议使用 float64</span><br>f3 := <span class="hljs-number">256.000000059</span><br>fmt.Println(<span class="hljs-string">&quot;f1 = &quot;</span>, f1)<br>fmt.Println(<span class="hljs-string">&quot;f2 = &quot;</span>, f2)<br>fmt.Println(<span class="hljs-string">&quot;f3占用字节数&quot;</span>, unsafe.Sizeof(f3))<br>fmt.Printf(<span class="hljs-string">&quot;f3默认数据类型：%T&quot;</span>, f3)<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/./1/fef03274539a4162a103a244d8e880b4.png"></p><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> a <span class="hljs-type">string</span> = <span class="hljs-string">&quot;abc&quot;</span><br>fmt.Println(a)<br><span class="hljs-comment">// 字符串中有特殊字符，使用反引号 ``</span><br><span class="hljs-keyword">var</span> b <span class="hljs-type">string</span> = <span class="hljs-string">`</span><br><span class="hljs-string">package main</span><br><span class="hljs-string">import(</span><br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;unsafe&quot;</span><br><span class="hljs-string">)</span><br><span class="hljs-string">var(</span><br><span class="hljs-string">a = 10</span><br><span class="hljs-string">b = 11</span><br><span class="hljs-string">)</span><br><span class="hljs-string">func main() &#123;</span><br><span class="hljs-string">c := a + b</span><br><span class="hljs-string">fmt.Println(&quot;c = &quot;,c)</span><br><span class="hljs-string">fmt.Printf(&quot;%T&quot;,c)</span><br><span class="hljs-string">fmt.Println(&quot;&quot;)</span><br><span class="hljs-string">fmt.Println(unsafe.Sizeof(c))</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">`</span><br>fmt.Println(b)<br><span class="hljs-comment">// 字符串的拼接</span><br><span class="hljs-keyword">var</span> c <span class="hljs-type">string</span> = <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span><br>c += <span class="hljs-string">&quot;jhi&quot;</span><br>fmt.Println(c)<br><span class="hljs-comment">// 字符串过长，+ 号留最后</span><br><span class="hljs-keyword">var</span> d <span class="hljs-type">string</span> = <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span> + <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span> +<br><span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span> + <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span> + <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span> +<br><span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span> + <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span> + <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-string">&quot;def&quot;</span><br>fmt.Println(d)<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/./1/ce9f590ea55c43de9c143c3bea8dbae7.png"></p><h2 id="基本数据类型默认值"><a href="#基本数据类型默认值" class="headerlink" title="基本数据类型默认值"></a>基本数据类型默认值</h2><p><img src="/./1/73d7adb630094a79ab2c8ae1675e4e85.png"></p><h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><p><img src="/./1/8a97e52ea43440bd9ddb52b555ba8810.png" alt="数据类型转换"></p><h2 id="整数类型转换"><a href="#整数类型转换" class="headerlink" title="整数类型转换"></a>整数类型转换</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">100</span><br>c := <span class="hljs-type">float64</span>(a) + <span class="hljs-number">12</span><br>fmt.Println(<span class="hljs-string">&quot;a = &quot;</span>, a)<br>fmt.Println(<span class="hljs-string">&quot;c = &quot;</span>, c)<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/./1/b8953b5b3a6e4806b1d25e96a177e1f7.png"></p><h2 id="基本类型转String"><a href="#基本类型转String" class="headerlink" title="基本类型转String"></a>基本类型转String</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">10</span><br><span class="hljs-keyword">var</span> b <span class="hljs-type">float64</span> = <span class="hljs-number">43.68547</span><br><span class="hljs-keyword">var</span> c <span class="hljs-type">bool</span> = <span class="hljs-literal">true</span><br><span class="hljs-keyword">var</span> d <span class="hljs-type">byte</span> = <span class="hljs-string">&#x27;a&#x27;</span><br><br><span class="hljs-keyword">var</span> sa <span class="hljs-type">string</span> = fmt.Sprintf(<span class="hljs-string">&quot;%d&quot;</span>, a)<br>fmt.Printf(<span class="hljs-string">&quot;sa数据类型：%T，sa = %q\n&quot;</span>, sa, sa)<br><br><span class="hljs-keyword">var</span> sb <span class="hljs-type">string</span> = fmt.Sprintf(<span class="hljs-string">&quot;%f&quot;</span>, b)<br>fmt.Printf(<span class="hljs-string">&quot;sb的数据类型：%T，sb = %q\n&quot;</span>, sb, sb)<br><br><span class="hljs-keyword">var</span> sc <span class="hljs-type">string</span> = fmt.Sprintf(<span class="hljs-string">&quot;%t&quot;</span>, c)<br>fmt.Printf(<span class="hljs-string">&quot;sc的数据类型：%T，sc = %q\n&quot;</span>, sc, sc)<br><br><span class="hljs-keyword">var</span> sd <span class="hljs-type">string</span> = fmt.Sprintf(<span class="hljs-string">&quot;%c&quot;</span>, d)<br>fmt.Printf(<span class="hljs-string">&quot;sd的数据类型：%T，sd = %q\n&quot;</span>, sd, sd)<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/./1/72be5bf8711e4a38b0677c10943005c6.png"></p><h2 id="String转基本类型"><a href="#String转基本类型" class="headerlink" title="String转基本类型"></a>String转基本类型</h2><p><img src="/./1/cfdd6e35fb49415f9c77799ec1d8157c.png"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;strconv&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-comment">// string --&gt; bool</span><br><span class="hljs-keyword">var</span> s1 <span class="hljs-type">string</span> = <span class="hljs-string">&quot;false&quot;</span><br><span class="hljs-keyword">var</span> t <span class="hljs-type">bool</span><br>t, _ = strconv.ParseBool(s1)<br>fmt.Printf(<span class="hljs-string">&quot;t的数据类型：%T，t = %v\n&quot;</span>, t, t)<br><br><span class="hljs-comment">// string --&gt; int64</span><br><span class="hljs-keyword">var</span> s2 <span class="hljs-type">string</span> = <span class="hljs-string">&quot;123&quot;</span><br><span class="hljs-keyword">var</span> d <span class="hljs-type">int64</span><br>d, _ = strconv.ParseInt(s2, <span class="hljs-number">10</span>, <span class="hljs-number">64</span>)<br>fmt.Printf(<span class="hljs-string">&quot;d的数据类型：%T，d = %v\n&quot;</span>, d, d)<br><br><span class="hljs-comment">// string --&gt; float64</span><br><span class="hljs-keyword">var</span> s3 <span class="hljs-type">string</span> = <span class="hljs-string">&quot;352.12454884&quot;</span><br><span class="hljs-keyword">var</span> f <span class="hljs-type">float64</span><br>f, _ = strconv.ParseFloat(s3, <span class="hljs-number">64</span>)<br>fmt.Printf(<span class="hljs-string">&quot;f的数据类型：%T，f = %v\n&quot;</span>, f, f)<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/./1/2c042156032a46ab89984cd2b0ad5a89.png"><img src="/./1/3cf8c471fb674f3c9dea0ecb9315f0ce.png"></p><h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">12</span><br>fmt.Println(&amp;a) <span class="hljs-comment">// 输出对应数值的内存地址</span><br><span class="hljs-keyword">var</span> pa *<span class="hljs-type">int</span> = &amp;a <span class="hljs-comment">// 定义指针</span><br>fmt.Println(*pa) <span class="hljs-comment">// 输出对应指针地址的数值</span><br>fmt.Println(&amp;pa) <span class="hljs-comment">// 输出对应指针的内存地址</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/./1/3c517e5854474d2eaa894a9e03b9e002.png"><br><img src="/./1/f7298992f88b40288c95b119d87c2788.png"><br><img src="/./1/524787af880947a3afb71a8903c22b45.png"></p><h2 id="关键字和预定义标识符"><a href="#关键字和预定义标识符" class="headerlink" title="关键字和预定义标识符"></a>关键字和预定义标识符</h2><p><img src="/./1/159c5c179e604bb6b82dfabd586e0acc.png"></p><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p><img src="/./1/1dd8422c5b9f439d9fd2c96a8ce54b68.png"><br><img src="/./1/5257dbe7b3d34a26bb7006439f9c5ed1.png"><br><img src="/./1/8463f9bdd835450199a7e86519a8d0d4.png"></p><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Golang</tag>
      
      <tag>学习笔记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Modbus通信协议学习笔记</title>
    <link href="/2.html"/>
    <url>/2.html</url>
    
    <content type="html"><![CDATA[<p>Modbus通信协议是一种串行通信协议，由Modicon（现在的施耐德电气）于1979年发布，用于可编程逻辑控制器（PLC）。它已经成为事实上的标准通信协议，广泛应用于工业自动化设备和控制系统。Modbus协议采用主&#x2F;从（Master&#x2F;Slave）架构或称为客户端&#x2F;服务器（Client&#x2F;Server）架构。</p><span id="more"></span><h2 id="Modbus主从设备"><a href="#Modbus主从设备" class="headerlink" title="Modbus主从设备"></a>Modbus主从设备</h2><p>主控设备（Modbus Master）：工控机、PLC、触摸屏等等<br>从设备（Modbus Slave）：PLC、Modbus采集模块、带485通讯的传感器、仪器仪表等等<br>Modbus物理接口：串口（RS232、RS485、RS422）；以太网口<br>Modbus通讯协议：串口（RTU、ASCII）；以太网口（TCP）</p><h2 id="Modbus通讯过程"><a href="#Modbus通讯过程" class="headerlink" title="Modbus通讯过程"></a>Modbus通讯过程</h2><p>1、主设备向从设备发送请求（广播、单播）<br>2、从设备分析并处理主设备的请求，然后向主设备发送结果，如果出错，从设备会返回异常功能码<br>3、只有主站发送请求，从站才会发送响应<br>4、从站之间不能够直接通信<br>5、通讯双方，使用Modbus报文来通讯<br>Modbus通讯工作方式：请求和应答</p><h2 id="Modbus报文-功能码"><a href="#Modbus报文-功能码" class="headerlink" title="Modbus报文 功能码"></a>Modbus报文 功能码</h2><p><img src="/./2/48749400c791436488f07fe20afd0473.png"></p><h2 id="Modbus-TCP报文格式"><a href="#Modbus-TCP报文格式" class="headerlink" title="Modbus TCP报文格式"></a>Modbus TCP报文格式</h2><p><img src="/./2/0b520f159120428d9c437906e8975df4.png"></p><h2 id="Modbus-RTU报文格式"><a href="#Modbus-RTU报文格式" class="headerlink" title="Modbus RTU报文格式"></a>Modbus RTU报文格式</h2><p><img src="/./2/83ac51d932f04976a6772394d3057a9c.png"></p><h2 id="模型层级"><a href="#模型层级" class="headerlink" title="模型层级"></a>模型层级</h2><p><img src="/./2/5d44388014454049ac960b0479e9aba3.png"></p><h2 id="路由网络框架"><a href="#路由网络框架" class="headerlink" title="路由网络框架"></a>路由网络框架</h2><p><img src="/./2/a347d96bd48644e3bd94911c4f39a9b5.png"></p><p><img src="/./2/b13672459efb406c998160b0f5a3ef91.png" alt="加粗样式"></p><h2 id="协议存储区"><a href="#协议存储区" class="headerlink" title="协议存储区"></a>协议存储区</h2><p><img src="/./2/d4e3f234a8b44787ad0caf3c4bd73ff0.png"></p><h2 id="报文解析"><a href="#报文解析" class="headerlink" title="报文解析"></a>报文解析</h2><p><img src="/./2/b80c977cc1c14598972da4ec92214a49.png"></p><p><img src="/./2/61699b2edbaa4c528a6282b4acb9d98f.png"></p><blockquote><p><strong>字节计数 &#x3D; 线圈数量（16进制转10进制）&#x2F; 8（向上取整）</strong></p></blockquote><h2 id="打赏"><a href="#打赏" class="headerlink" title="打赏"></a>打赏</h2><p>如果你觉得这个博客有帮助，并愿意支持它的发展，可以通过以下方式支持我们的创作：<br><img src="/img/index/wxszm.png" alt="微信赞赏码"></p>]]></content>
    
    
    
    <tags>
      
      <tag>学习笔记</tag>
      
      <tag>Modbus</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
